[{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright c 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://sfcheung.github.io/semfindr/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) 2019 Shu Fai Cheung  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. semptools Copyright (C) 2019 Shu Fai Cheung This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":"https://sfcheung.github.io/semfindr/articles/casewise_scores.html","id":"using-scores-to-approximate-case-influence","dir":"Articles","previous_headings":"","what":"Using Scores to Approximate Case Influence","title":"Approximate Case Influence Using Scores and Casewise Likelihood","text":"lavaan provides handy lavScores() functions evaluate \\[s_i(\\theta_m) = \\frac{\\partial \\ell_i(\\theta_m)}{\\partial \\theta_m}\\] observation \\(\\), \\(\\ell_i(\\theta)\\) denotes casewise loglikelihood function \\(\\theta_m\\) \\(m\\)th model parameter. example, indicates partial derivative casewise loglikelihod respect parameter m1~iv1. sum partial derivatives across observations zero maximum likelihood estimate full sample (\\(\\hat \\theta_m\\); .e., derivative loglikelihood full data 0), \\(- s_i(\\theta_m)\\) can used estimate partial derivative loglikelihood \\(\\hat \\theta_m\\) sample without observation \\(\\). information can used approximate maximum likelihood estimate \\(\\theta_m\\) case \\(\\) dropped, denoted \\(\\hat \\theta_{m(-)}\\) second-order Taylor series expansion can used approximate parameter vector estimate observation deleted, \\(\\hat \\theta_{(-)}\\), iterative Newton’s method. Specifically, \\[\\hat \\theta_{()} \\approx \\hat \\theta - \\frac{N}{N - 1}V(\\hat \\theta) \\nabla \\ell(\\hat \\theta)\\] \\[\\hat \\theta - \\hat \\theta_{()} = \\frac{N}{N - 1}V(\\hat \\theta) \\nabla \\ell_i(\\hat \\theta),\\] \\(\\nabla \\ell_i(\\hat \\theta)\\) gradient vector casewise loglikelihood respect parameters (.e., score). \\(N / (N - 1)\\) term used adjust decrease sample size (100% sure whether needed, trivial large samples). procedure equation (4) Tanaka et al. (1991) (p. 3807) related one-step approximation described Cook Weisberg (1982).","code":"head(lavScores(fit)[ , 1, drop = FALSE]) #>           m1~iv1 #> [1,]  0.23975993 #> [2,]  0.06630118 #> [3,] -0.33999129 #> [4,] -0.22536120 #> [5,]  0.61375747 #> [6,]  0.03747179"},{"path":"https://sfcheung.github.io/semfindr/articles/casewise_scores.html","id":"comparison","dir":"Articles","previous_headings":"Using Scores to Approximate Case Influence","what":"Comparison","title":"Approximate Case Influence Using Scores and Casewise Likelihood","text":"approximation implemented semfindr::est_change_raw_approx() functon: comparison approximation using semfindr::est_change_raw_approx() semfindr::est_change_raw()  results pretty similar.","code":"fit_est_change_approx <- est_change_raw_approx(fit) head(fit_est_change_approx) #>          m1~iv1        m1~iv2        dv~m1       m1~~m1       dv~~dv #> 1  0.0025826195 -2.987160e-03  0.005478785 -0.004783799  0.003015677 #> 2  0.0007581403  3.411181e-04 -0.001383390 -0.008744342 -0.011010937 #> 3 -0.0039693069 -3.914928e-03 -0.003154241 -0.008240420 -0.008525904 #> 4 -0.0025450320 -3.118916e-04  0.002296162 -0.006671599 -0.008331854 #> 5  0.0070027557  2.748024e-03  0.003450422  0.006144848 -0.012529327 #> 6  0.0004248632  9.671545e-05  0.001008609 -0.008958217 -0.010293608 # From semfindr fit_est_change_raw <- est_change_raw(fit_rerun) # Plot the differences library(ggplot2) library(tidyr) est_change_df <-   pivot_longer(as_tibble(fit_est_change_raw), cols = 1:5,                names_to = \"param\", values_to = \"est_change\") |>   cbind(est_change_approx =               pivot_longer(as_tibble(fit_est_change_approx),                            cols = 1:5)$value) ggplot(est_change_df, aes(x = est_change, y = est_change_approx)) +   geom_abline(intercept = 0, slope = 1) +   geom_point(size = 0.8, alpha = 0.5) +   facet_wrap(~ param) +   coord_fixed()"},{"path":"https://sfcheung.github.io/semfindr/articles/casewise_scores.html","id":"generalized-cooks-distance-gcd","dir":"Articles","previous_headings":"Using Scores to Approximate Case Influence","what":"Generalized Cook’s distance (gCD)","title":"Approximate Case Influence Using Scores and Casewise Likelihood","text":"can use approximate parameter change approximate gCD (see also Tanaka et al., 1991, equation 13, p. 3811): implemented semfindr::est_change_approx() function:  seems approximation underestimate actual gCD, although rank ordering almost identical. discussed also Tanaka et al. (1991), also proposed correction applying one-step approximation correction (currently implemented due need recompute scores updated parameter values).","code":"# Information matrix (Hessian) information_fit <- lavInspect(fit, what = \"information\") # Short cut for computing quadratic form (https://stackoverflow.com/questions/27157127/efficient-way-of-calculating-quadratic-forms-avoid-for-loops) gcd_approx <- (nobs(fit) - 1) * rowSums(   (fit_est_change_approx %*% information_fit) * fit_est_change_approx ) fit_est_change_approx <- est_change_approx(fit) head(fit_est_change_approx) #>         m1~iv1       m1~iv2        dv~m1      m1~~m1      dv~~dv  gcd_approx #> 1  0.024713396 -0.030383580  0.052370026 -0.03784100  0.01630488 0.005850455 #> 2  0.007254736  0.003469647 -0.013223396 -0.06916983 -0.05953293 0.008312026 #> 3 -0.037982774 -0.039820283 -0.030150418 -0.06518369 -0.04609708 0.009904544 #> 4 -0.024353717 -0.003172373  0.021948305 -0.05277394 -0.04504791 0.005719499 #> 5  0.067010210  0.027951233  0.032981527  0.04860722 -0.06774242 0.012793226 #> 6  0.004065567  0.000983731  0.009640981 -0.07086163 -0.05565453 0.007984573 # Compare to exact computation fit_est_change <- est_change(fit_rerun) # Plot gcd_df <- data.frame(   gcd_exact = fit_est_change[ , \"gcd\"],   gcd_approx = fit_est_change_approx[ , \"gcd_approx\"] ) ggplot(gcd_df, aes(x = gcd_exact, y = gcd_approx)) +   geom_abline(intercept = 0, slope = 1) +   geom_point() +   coord_fixed() cor(gcd_df, method = \"spearman\") #>            gcd_exact gcd_approx #> gcd_exact   1.000000   0.999892 #> gcd_approx  0.999892   1.000000"},{"path":"https://sfcheung.github.io/semfindr/articles/casewise_scores.html","id":"approximate-change-in-fit","dir":"Articles","previous_headings":"","what":"Approximate Change in Fit","title":"Approximate Case Influence Using Scores and Casewise Likelihood","text":"casewise loglikelihood—contribution likelihood function observation—can computed lavaan, approximates change loglikelihood observation deleted: , \\(\\ell(\\hat \\theta)\\) drop 2.78 observation 1 deleted. approximate \\(\\ell(\\hat \\theta_{(-)})\\) long \\(\\hat \\theta_{(-)}\\) different \\(\\hat \\theta\\). ’s comparison: pretty close. approximate change chi-squared, well chi-squared-based fit indices, can use semfindr::fit_measures_change_approx() function:","code":"lli <- lavInspect(fit, what = \"loglik.casewise\") head(lli) #> [1] -2.776787 -2.034084 -2.154825 -2.248100 -2.793426 -2.049238 # Predicted ll without observation 1 fit@loglik$loglik - lli[1] #> [1] -289.8272 # Actual ll without observation 1 fit_no1 <- sem(mod, dat[-1, ]) fit_no1@loglik$loglik #> [1] -289.8156 chisq_i_approx <- fit_measures_change_approx(fit) # Compare to the actual chisq when dropping observation 1 c(predict = chisq_i_approx[1, \"chisq\"] + fitmeasures(fit, \"chisq\"),   actual = fitmeasures(fit_no1, \"chisq\")) #> predict.chisq  actual.chisq  #>      6.871042      6.557397"},{"path":"https://sfcheung.github.io/semfindr/articles/casewise_scores.html","id":"comparing-exact-and-approximated-changes-in-fit-indices","dir":"Articles","previous_headings":"Approximate Change in Fit","what":"Comparing exact and approximated changes in fit indices","title":"Approximate Case Influence Using Scores and Casewise Likelihood","text":"Change \\(\\chi^2\\)  Change RMSEA  values aligned reasonably well along 45-degree line.","code":"# Exact measure from semfindr out <- fit_measures_change(fit_rerun) # Plot chisq_change_df <- data.frame(   chisq_change = out[ , \"chisq\"],   chisq_change_approx = chisq_i_approx[ , \"chisq\"] ) ggplot(chisq_change_df, aes(x = chisq_change, y = chisq_change_approx)) +   geom_abline(intercept = 0, slope = 1) +   geom_point() +   coord_fixed() # Plot rmsea_change_df <- data.frame(   rmsea_change = out[ , \"rmsea\"],   rmsea_change_approx = chisq_i_approx[ , \"rmsea\"] ) ggplot(rmsea_change_df, aes(x = rmsea_change, y = rmsea_change_approx)) +   geom_abline(intercept = 0, slope = 1) +   geom_point() +   coord_fixed()"},{"path":"https://sfcheung.github.io/semfindr/articles/casewise_scores.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Approximate Case Influence Using Scores and Casewise Likelihood","text":"Cook, R. D., & Weisberg, S. (1982). Residuals influence regression. New York: Chapman Hall. http://conservancy.umn.edu/handle/11299/37076 Tanaka, Y., Watadani, S., & Ho Moon, S. (1991). Influence covariance structure analysis: application confirmatory factor analysis. Communications Statistics - Theory Methods, 20(12), 3805–3821. https://doi.org/10.1080/03610929108830742","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/selecting_cases.html","id":"row-numbers-or-case-ids","dir":"Articles","previous_headings":"","what":"Row Numbers or Case IDs","title":"Selecting Cases In Rerun","text":"Suppose, reasons, users want refit model selected rows removed. example, rows 1, 4, 15, 18 selected. can done using argument to_rerun semfindr::lavaan_rerun(): four reruns output: user supplied case IDs used, value to_rerun vector case IDs: four reruns output. User supplied case IDs used output:","code":"rerun_out <- lavaan_rerun(fit,                           to_rerun = c(1, 4, 15, 18)) #> The expected CPU time is 0.58 second(s). #> Could be faster if ran in parallel. rerun_out #> === lavaan_rerun Output === #> Call: #> lavaan_rerun(fit = fit, to_rerun = c(1, 4, 15, 18)) #> Number of reruns: 4 #> Number of reruns that converged (solution found): 4 #> Number of reruns that failed to converge (solution not found): 0 #> Number of reruns that passed post.check of lavaan: 4 #> Number of reruns that failed post.check of lavaan: 0 #> Number of reruns that both converged and passed post.check: 4 #> Number of reruns that either did not converge or failed post.check: 0 round(est_change(rerun_out), 3) #>    iv1~~iv2 m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv iv1~~iv1 iv2~~iv2   gcd #> 1    -0.013  0.024 -0.030  0.052 -0.037  0.017   -0.061   -0.056 0.013 #> 4     0.006 -0.024 -0.003  0.022 -0.051 -0.044   -0.056   -0.070 0.014 #> 15    0.008  0.001  0.003 -0.009 -0.070 -0.061   -0.070   -0.058 0.017 #> 18   -0.023 -0.273  0.035  0.101  0.260 -0.046    0.043   -0.067 0.163 rerun_out <- lavaan_rerun(fit,                           case_id = dat$id,                           to_rerun = c(\"case1\",                                        \"case4\",                                        \"case15\",                                        \"case18\")) #> The expected CPU time is 0.58 second(s). #> Could be faster if ran in parallel. rerun_out #> === lavaan_rerun Output === #> Call: #> lavaan_rerun(fit = fit, case_id = dat$id, to_rerun = c(\"case1\",  #>     \"case4\", \"case15\", \"case18\")) #> Number of reruns: 4 #> Number of reruns that converged (solution found): 4 #> Number of reruns that failed to converge (solution not found): 0 #> Number of reruns that passed post.check of lavaan: 4 #> Number of reruns that failed post.check of lavaan: 0 #> Number of reruns that both converged and passed post.check: 4 #> Number of reruns that either did not converge or failed post.check: 0 round(est_change(rerun_out), 3) #>        iv1~~iv2 m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv iv1~~iv1 iv2~~iv2   gcd #> case1    -0.013  0.024 -0.030  0.052 -0.037  0.017   -0.061   -0.056 0.013 #> case4     0.006 -0.024 -0.003  0.022 -0.051 -0.044   -0.056   -0.070 0.014 #> case15    0.008  0.001  0.003 -0.009 -0.070 -0.061   -0.070   -0.058 0.017 #> case18   -0.023 -0.273  0.035  0.101  0.260 -0.046    0.043   -0.067 0.163"},{"path":"https://sfcheung.github.io/semfindr/articles/selecting_cases.html","id":"mahalanobis-distance-on-residuals","dir":"Articles","previous_headings":"","what":"Mahalanobis Distance on Residuals","title":"Selecting Cases In Rerun","text":"Users can select cases using rankings Mahalanobis distance computed using regression-based residuals. possible models observed variables (.e., path models). analogous selecting cases based residuals multiple regression model. path model can one endogenous variables. residuals case endogenous variables computed, Mahalanobis distance computed using residuals. done using argument resid_md_top. Users specify top x cases distance selected refitting model. Five cases selected, shown : Note selecting cases method can miss influential cases. multiple regression, case influential results needs case poorly predicted exogenous variables. Therefore, method used caution.","code":"rerun_out <- lavaan_rerun(fit,                           case_id = dat$id,                           resid_md_top = 5) #> The expected CPU time is 0.72 second(s). #> Could be faster if ran in parallel. rerun_out #> === lavaan_rerun Output === #> Call: #> lavaan_rerun(fit = fit, case_id = dat$id, resid_md_top = 5) #> Number of reruns: 5 #> Number of reruns that converged (solution found): 5 #> Number of reruns that failed to converge (solution not found): 0 #> Number of reruns that passed post.check of lavaan: 5 #> Number of reruns that failed post.check of lavaan: 0 #> Number of reruns that both converged and passed post.check: 5 #> Number of reruns that either did not converge or failed post.check: 0 round(est_change(rerun_out), 3) #>        iv1~~iv2 m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv iv1~~iv1 iv2~~iv2   gcd #> case16   -0.019  0.052 -0.038 -0.237 -0.004  0.624   -0.049   -0.059 0.456 #> case43    0.236 -0.403 -0.263 -0.135  0.223  0.120    0.195    0.030 0.407 #> case61    0.004 -0.007 -0.021 -0.153  0.350 -0.031   -0.070   -0.070 0.157 #> case85   -0.066 -0.174  0.216 -0.119  0.335 -0.052   -0.031   -0.011 0.214 #> case65    0.133  0.152  0.191  0.363  0.076  0.161    0.000    0.046 0.241"},{"path":"https://sfcheung.github.io/semfindr/articles/selecting_cases.html","id":"mahalanobis-distance-on-all-variables","dir":"Articles","previous_headings":"","what":"Mahalanobis Distance on All Variables","title":"Selecting Cases In Rerun","text":"Users can select cases using rankings Mahalanobis distance computed using observed variables. done using argument md_top. Users specify top x cases distance selected refitting model. Five cases selected, shown : Note selecting cases method can miss influential cases (Pek & MacCallum, 2011). Unlike multiple regression, distance measure leverage. path model, distance used distances centroid observed variables, including exogenous variables endogenous variables. model latent factors, distance affected residuals values predicted latent factors. Therefore, method used caution.","code":"rerun_out <- lavaan_rerun(fit,                           case_id = dat$id,                           md_top = 5) #> The expected CPU time is 0.72 second(s). #> Could be faster if ran in parallel. rerun_out #> === lavaan_rerun Output === #> Call: #> lavaan_rerun(fit = fit, case_id = dat$id, md_top = 5) #> Number of reruns: 5 #> Number of reruns that converged (solution found): 5 #> Number of reruns that failed to converge (solution not found): 0 #> Number of reruns that passed post.check of lavaan: 5 #> Number of reruns that failed post.check of lavaan: 0 #> Number of reruns that both converged and passed post.check: 5 #> Number of reruns that either did not converge or failed post.check: 0 round(est_change(rerun_out), 3) #>        iv1~~iv2 m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv iv1~~iv1 iv2~~iv2   gcd #> case16   -0.019  0.052 -0.038 -0.237 -0.004  0.624   -0.049   -0.059 0.456 #> case99    0.163  0.002  0.009  0.187 -0.070  0.033   -0.054    0.686 0.559 #> case87   -0.419 -0.011  0.019  0.101 -0.070  0.000    0.096    0.457 0.413 #> case43    0.236 -0.403 -0.263 -0.135  0.223  0.120    0.195    0.030 0.407 #> case51   -0.130  0.421 -0.057  0.094  0.089 -0.044    0.525   -0.056 0.492"},{"path":"https://sfcheung.github.io/semfindr/articles/selecting_cases.html","id":"final-remarks","dir":"Articles","previous_headings":"","what":"Final Remarks","title":"Selecting Cases In Rerun","text":"feasible, recommended refit model case, influential cases can considered together. methods included processing time slow selected cases explored. final model(s), semfindr::lavaan_rerun() using cases recommended, serve final check sensitivity results individual cases.","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/selecting_cases.html","id":"reference","dir":"Articles","previous_headings":"","what":"Reference","title":"Selecting Cases In Rerun","text":"Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202–228. https://doi.org/10.1080/00273171.2011.561068","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"purpose","dir":"Articles","previous_headings":"","what":"Purpose","title":"Quick Start","text":"semfindr package contains functions structural equation modeling (SEM) diagnostics, identifying influential cases computing various diagnostic measures. implementation sensitivity analysis proposed Pek MacCallum (2011), plots based similar plots available car package Fox Weisberg (2019).","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"workflow","dir":"Articles","previous_headings":"","what":"Workflow","title":"Quick Start","text":"Many measures case computed refitting model case removed. Instead measure, semfindr adopts workflow: Decide cases examine. cases examined, default. selected case, remove refit model. Store results. Functions deletion statistics compute list. Users can many diagnostic analysis want without repeating time consuming refitting step. following sections illustrates use major functions.","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"fitting-the-target-model","dir":"Articles","previous_headings":"","what":"Fitting the Target Model","title":"Quick Start","text":"sample dataset semfindr::pa_dat2, variables iv1, iv2, m1, dv, 100 cases. convenience, assign pa_dat new symbol, dat. Assume target model examination path model two predictors, one mediator, one outcome variable: fit model lavaan::sem():","code":"library(semfindr) dat <- pa_dat head(dat) #>            m1         dv        iv1         iv2 #> 1  0.32067106  1.4587148  0.2055776 -0.42187811 #> 2  0.15360231 -0.3809220  0.1853543  0.15229953 #> 3  0.35136439 -0.4886773  0.9151424  1.16670950 #> 4 -0.56529330 -0.9766142  0.2884440  0.04563409 #> 5 -1.60657017 -1.0948066 -0.5756171 -0.18184854 #> 6  0.03143301  0.5859886  0.1420111  0.06286986 mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" library(lavaan) #> This is lavaan 0.6-12 #> lavaan is FREE software! Please report any bugs. fit <- sem(mod, dat)"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"rerun-n-times","dir":"Articles","previous_headings":"","what":"Rerun n Times","title":"Quick Start","text":"refit model 100 times, time one case removed: example takes 4 8 seconds. larger samples complicated models, semfindr::lavaan_rerun() supports parallel processing setting parallel TRUE. semfindr::lavaan_rerun() also supports selecting cases based Mahalanobis distance variables model implied scores outcome variables. See help page semfindr::lavaan_rerun() vignette(\"selecting_cases\") details. process slow, can save results base::saveRDS() can load analysis later.","code":"fit_rerun <- lavaan_rerun(fit)"},{"path":[]},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"standardized-changes-in-estimates","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Standardized Changes in Estimates","title":"Quick Start","text":"One intuitive measure compute changes parameter estimates case deleted, changes standardized standard errors (Pek & MacCallum, 2011, Equation 7): standardized change parameter case positive, estimate full sample larger case removed. example, standardized change path iv1 m1 0.024 first case. estimates path without first case 0.215 0.212, respectively. full sample estimate larger estimate first case removed. semfindr::est_change() also computes generalized Cook’s distance (Cook, 1977; Pek & MacCallum, 2011, Equation 6), gcd, using parameters examined. gcd analogous Cook’s distance multiple regression. measures “overall” change parameters case deleted. Let’s examine top five cases largest gcd: Pek MacCallum recommended computing generalized Cook’s distance subset parameters researchers like assess case influence. can done specifying parameters included. example, may compute changes gcd path coefficients, using argument parameters: See help page semfindr::est_change() information.","code":"fit_est_change <- est_change(fit_rerun) round(head(fit_est_change), 3) #>   m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv   gcd #> 1  0.024 -0.030  0.052 -0.037  0.017 0.006 #> 2  0.007  0.003 -0.013 -0.067 -0.058 0.008 #> 3 -0.038 -0.040 -0.030 -0.063 -0.045 0.010 #> 4 -0.024 -0.003  0.022 -0.051 -0.044 0.006 #> 5  0.067  0.028  0.033  0.050 -0.066 0.013 #> 6  0.004  0.001  0.010 -0.069 -0.054 0.008 i <- order(fit_est_change[, \"gcd\"],            decreasing = TRUE) i_top5 <- i[1:5] round(fit_est_change[i_top5, ], 3) #>    m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv   gcd #> 16  0.052 -0.038 -0.237 -0.004  0.624 0.450 #> 43 -0.403 -0.263 -0.135  0.223  0.120 0.302 #> 65  0.152  0.191  0.363  0.076  0.161 0.221 #> 85 -0.174  0.216 -0.119  0.335 -0.052 0.208 #> 51  0.421 -0.057  0.094  0.089 -0.044 0.200 fit_est_change_paths_only <- est_change(fit_rerun,                                 parameters = c(\"m1 ~ iv1\",                                                \"m1 ~ iv2\",                                               \"dv ~ m1\")) i <- order(fit_est_change_paths_only[, \"gcd\"],            decreasing = TRUE) round(fit_est_change_paths_only[i[1:5], ], 3) #>    m1~iv1 m1~iv2  dv~m1   gcd #> 43 -0.403 -0.263 -0.135 0.238 #> 51  0.421 -0.057  0.094 0.190 #> 65  0.152  0.191  0.363 0.189 #> 34 -0.314 -0.192 -0.109 0.142 #> 32 -0.247  0.195 -0.191 0.138"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"raw-changes-in-estimates","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Raw Changes in Estimates","title":"Quick Start","text":"standardized changes parameter may easy interpret. original units interpretable, can compute raw changes, , changes parameter estimates case deleted, standardized standard errors. can done semfindr::est_change_raw(): example, change path iv1 m1 -0.043 43rd case. estimates path without 43rd cases 0.215 0.258, respectively. full sample estimate smaller estimate 43rd case removed. raw changes 0.215 - 0.258 -0.043. desired, semfindr::est_change_raw() can also compute changes parameters standardized solution: example, standardized solutions full sample sample 43rd case removed: change standardized estimate path iv1 m1 -0.032 43rd case. standardized estimates path without 43rd cases 0.178 0.21, respectively. full sample estimate smaller estimate 43rd case removed. raw changes standardized estimate 0.178 - 0.21 -0.032. semfindr::est_change_raw() also supports computing changes selected parameters: See help page semfindr::est_change_raw() information.","code":"fit_est_change_raw <- est_change_raw(fit_rerun) round(fit_est_change_raw[i_top5, ], 3) #>    m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv #> 16  0.005 -0.004 -0.024 -0.001  0.108 #> 43 -0.043 -0.026 -0.014  0.028  0.022 #> 65  0.016  0.019  0.039  0.010  0.030 #> 85 -0.018  0.021 -0.013  0.041 -0.010 #> 51  0.046 -0.006  0.010  0.011 -0.008 fit_est_change_raw_std <- est_change_raw(fit_rerun,                                          standardized = TRUE) round(fit_est_change_raw_std[i_top5, ], 3) #>    m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv iv1~~iv1 iv1~~iv2 iv2~~iv2 #> 16  0.004 -0.004 -0.033  0.003  0.030        0   -0.002        0 #> 43 -0.032 -0.021 -0.013  0.026  0.012        0    0.024        0 #> 65  0.011  0.011  0.029 -0.016 -0.024        0    0.013        0 #> 85 -0.020  0.008  0.001  0.001  0.000        0   -0.007        0 #> 51  0.042 -0.010  0.011 -0.001 -0.009        0   -0.012        0 standardizedSolution(fit, se = FALSE)[1, ] #>   lhs op rhs est.std #> 1  m1  ~ iv1   0.178 standardizedSolution(sem(mod, dat[-43, ]), se = FALSE)[1, ] #>   lhs op rhs est.std #> 1  m1  ~ iv1    0.21 fit_est_change_raw_std_paths_only <- est_change_raw(fit_rerun,                                           standardized = TRUE,                                           parameters = c(\"m1 ~ iv1\",                                                          \"m1 ~ iv2\",                                                          \"dv ~ m1\")) round(fit_est_change_raw_std_paths_only[i_top5, ], 3) #>    m1~iv1 m1~iv2  dv~m1 #> 16  0.004 -0.004 -0.033 #> 43 -0.032 -0.021 -0.013 #> 65  0.011  0.011  0.029 #> 85 -0.020  0.008  0.001 #> 51  0.042 -0.010  0.011"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"mahalanobis-distance","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Mahalanobis Distance","title":"Quick Start","text":"One commonly used measure identifying outliers Mahalanobis distance (Mahalanobis, 1936; Pek & MacCallum, 2011, Equation 9). semfindr::mahalanobis_rerun() can used compute Mahalanobis distance case variables used target model: Note case large Mahalanobis distance necessarily influential case (Pek & MacCallum, 2011). Therefore, time allows, influence measures examined avoid overlooking cases extreme influential.","code":"fit_md <- mahalanobis_rerun(fit_rerun) round(fit_md[i_top5, , drop = FALSE], 3) #>        md #> 16 11.530 #> 43 10.181 #> 65  7.277 #> 85  6.709 #> 51  9.869"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"changes-in-fit-measures","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Changes in Fit Measures","title":"Quick Start","text":"Another set intuitive measures influence compute goodness fit measures case deleted measure changes. can done semfindr::fit_measures_change(), simply gets fit measures supported lavaan::fitMeasures results semfindr::lavaan_rerun: value computed \\(M_\\textrm{full sample} - M_\\textrm{one case removed}\\). Therefore, value positive, measure higher full sample. value negative, measure lower full sample. convention selected interpretation consistent changes parameter estimates. example, change CFI 43rd case -0.03. Therefore, CFI full sample lower 43rd case removed, difference 0.03. argument fit_measures passed lavaan::fitMeasures specify measures computed.","code":"fit_mc <- fit_measures_change(fit_rerun,             fit_measures = c(\"chisq\", \"cfi\", \"tli\", \"rmsea\")) round(fit_mc[i_top5, ], 3) #>     chisq    cfi    tli  rmsea #> 16 -1.533  0.019  0.048 -0.024 #> 43  1.306 -0.030 -0.075  0.022 #> 65  0.474  0.002  0.004  0.007 #> 85  0.280 -0.004 -0.011  0.004 #> 51  0.432 -0.005 -0.012  0.006"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"an-all-in-one-function","dir":"Articles","previous_headings":"Diagnostic Functions","what":"An All-In-One-Function","title":"Quick Start","text":"can also use semfindr::influence_stat() compute previous measures. calls semfindr::fit_measures_change(), semfindr::est_change(), semfindr::mahalanobis_rerun() (requested) merges results one matrix: One major use semfindr::influence_stat() provide information diagnostic plots introduced .","code":"fit_influence <- influence_stat(fit_rerun) round(fit_influence[i_top5, ], 3) #>     chisq    cfi  rmsea    tli m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv   gcd     md #> 16 -1.533  0.019 -0.024  0.048  0.052 -0.038 -0.237 -0.004  0.624 0.450 11.530 #> 43  1.306 -0.030  0.022 -0.075 -0.403 -0.263 -0.135  0.223  0.120 0.302 10.181 #> 65  0.474  0.002  0.007  0.004  0.152  0.191  0.363  0.076  0.161 0.221  7.277 #> 85  0.280 -0.004  0.004 -0.011 -0.174  0.216 -0.119  0.335 -0.052 0.208  6.709 #> 51  0.432 -0.005  0.006 -0.012  0.421 -0.057  0.094  0.089 -0.044 0.200  9.869"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"diagnostic-plots","dir":"Articles","previous_headings":"","what":"Diagnostic Plots","title":"Quick Start","text":"semfindr provides several functions generate diagnostic plots.","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"generalized-cooks-distance","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Generalized Cook’s Distance","title":"Quick Start","text":"visualize gcd, can plot index plot cases horizontal axis gcd vertical axis using semfindr:gcd_plot:  accepts output semfindr::influence_stat(). largest_gcd controls number cases largest gcd labelled. default 1. options semfindr::gcd_plot() can found help page.","code":"gcd_plot(fit_influence,          largest_gcd = 3)"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"mahalanobis-distance-1","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Mahalanobis Distance","title":"Quick Start","text":"index plot can computed Mahalanobis distance given semfindr::influence_stat():  largest_m used control many cases high Mahalanobis distance variables fitted model labelled. default 1. options md_plot can found help page.","code":"md_plot(fit_influence,         largest_md = 3)"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"fit-measure-vs--generalized-cooks-distance","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Fit Measure vs. Generalized Cook’s Distance","title":"Quick Start","text":"examine overall change parameter estimates measured gcd relates selected goodness fit (gof) measure, semfindr::gcd_gof_plot() can used:  largest_gcd determines number cases largest gcd labelled, largest_fit_measure determines number cases largest absolute change selected goodness fit measure labelled. default 1 arguments. options semfindr::gcd_gof_plot() can found help page.","code":"gcd_gof_plot(fit_influence,              fit_measure = \"rmsea\",              largest_gcd = 3,              largest_fit_measure = 3)"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"bubble-plot","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Bubble Plot","title":"Quick Start","text":"can also use semfindr::gcd_gof_md_plot() plot bubble plot selected goodness fit measure Mahalanobis distance, bubble size determined generalized Cook’s distance. plot similar plot car::influencePlot() regression models.  circle_size controls size largest bubble. largest_gcd, largest_fit_measure, largest_md controls number cases highest absolute values one measures labelled. default values 1. options semfindr::gcd_gof_md_plot() can found help page.","code":"gcd_gof_md_plot(fit_influence,                 fit_measure = \"rmsea\",                 largest_gcd = 3,                 largest_fit_measure = 3,                 largest_md = 3,                 circle_size = 15)"},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"final-remarks","dir":"Articles","previous_headings":"","what":"Final Remarks","title":"Quick Start","text":"example use row numbers identify cases. users meaningful case IDs, can used label case ( see vignette(\"user_id\")). users want refit model selected cases removed one--one, semfindr::lavaan_rerun() supports various methods examine selected cases (see vignette(\"selecting_cases\")). Last, plot functions return ggplot graph objects. Users can modify suit needs.","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/semfindr.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Quick Start","text":"Cook, R. D. (1977). Detection influential observation linear regression. Technometrics, 19(1), 15–18. Fox J., & Weisberg, S. (2019). R companion applied regression (3rd Edition). Sage. https://socialsciences.mcmaster.ca/jfox/Books/Companion/. Mahalanobis, P. C. (1936). generalized distance statistics. Proceedings National Institute Science India, 2, 49–55. Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202–228. https://doi.org/10.1080/00273171.2011.561068","code":""},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"rerun-n-times","dir":"Articles","previous_headings":"","what":"Rerun n Times","title":"Use Case IDs","text":"refit model 100 times, time one case removed. Although id column stored lavaan, can supplied argument case_id: list reruns now use id names: shown , diagnostic functions use user supplied case IDs displays, making easier locate original data set.","code":"fit_rerun <- lavaan_rerun(fit, case_id = dat$id) head(fit_rerun$rerun[1:3]) #> $case1 #> lavaan 0.6-12 ended normally after 11 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            99 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 6.557 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.038 #>  #> $case2 #> lavaan 0.6-12 ended normally after 11 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            99 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 6.731 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.035 #>  #> $case3 #> lavaan 0.6-12 ended normally after 11 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            99 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 7.128 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.028"},{"path":[]},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"standardized-changes-in-estimates","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Standardized Changes in Estimates","title":"Use Case IDs","text":"","code":"fit_est_change <- est_change(fit_rerun) round(head(fit_est_change), 3) #>       m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv   gcd #> case1  0.024 -0.030  0.052 -0.037  0.017 0.006 #> case2  0.007  0.003 -0.013 -0.067 -0.058 0.008 #> case3 -0.038 -0.040 -0.030 -0.063 -0.045 0.010 #> case4 -0.024 -0.003  0.022 -0.051 -0.044 0.006 #> case5  0.067  0.028  0.033  0.050 -0.066 0.013 #> case6  0.004  0.001  0.010 -0.069 -0.054 0.008 fit_est_change_paths_only <- est_change(fit_rerun,                                 parameters = c(\"m1 ~ iv1\",                                                \"m1 ~ iv2\",                                                \"dv ~ m1\")) round(fit_est_change_paths_only[1:5, ], 3) #>       m1~iv1 m1~iv2  dv~m1   gcd #> case1  0.024 -0.030  0.052 0.004 #> case2  0.007  0.003 -0.013 0.000 #> case3 -0.038 -0.040 -0.030 0.004 #> case4 -0.024 -0.003  0.022 0.001 #> case5  0.067  0.028  0.033 0.006"},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"raw-changes-in-estimates","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Raw Changes in Estimates","title":"Use Case IDs","text":"","code":"fit_est_change_raw <- est_change_raw(fit_rerun) round(fit_est_change_raw[1:5, ], 3) #>       m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv #> case1  0.003 -0.003  0.005 -0.005  0.003 #> case2  0.001  0.000 -0.001 -0.009 -0.011 #> case3 -0.004 -0.004 -0.003 -0.008 -0.008 #> case4 -0.003  0.000  0.002 -0.007 -0.008 #> case5  0.007  0.003  0.004  0.006 -0.013"},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"mahalanobis-distance","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Mahalanobis Distance","title":"Use Case IDs","text":"","code":"fit_md <- mahalanobis_rerun(fit_rerun) round(fit_md[1:5, , drop = FALSE], 3) #>          md #> case1 1.911 #> case2 0.444 #> case3 3.787 #> case4 1.065 #> case5 1.980"},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"changes-in-fit-measures","dir":"Articles","previous_headings":"Diagnostic Functions","what":"Changes in Fit Measures","title":"Use Case IDs","text":"","code":"fit_mc <- fit_measures_change(fit_rerun,             fit_measures = c(\"chisq\", \"cfi\", \"tli\", \"rmsea\")) round(fit_mc[1:5, ], 3) #>        chisq    cfi    tli  rmsea #> case1  0.154 -0.002 -0.005  0.002 #> case2 -0.019  0.001  0.003 -0.001 #> case3 -0.417  0.008  0.021 -0.007 #> case4 -0.154  0.004  0.009 -0.003 #> case5  0.097  0.000  0.001  0.001"},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"all-in-one-function","dir":"Articles","previous_headings":"Diagnostic Functions","what":"All-In-One-Function","title":"Use Case IDs","text":"","code":"fit_influence <- influence_stat(fit_rerun) round(fit_influence[1:5, ], 3) #>        chisq    cfi  rmsea    tli m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv   gcd #> case1  0.154 -0.002  0.002 -0.005  0.024 -0.030  0.052 -0.037  0.017 0.006 #> case2 -0.019  0.001 -0.001  0.003  0.007  0.003 -0.013 -0.067 -0.058 0.008 #> case3 -0.417  0.008 -0.007  0.021 -0.038 -0.040 -0.030 -0.063 -0.045 0.010 #> case4 -0.154  0.004 -0.003  0.009 -0.024 -0.003  0.022 -0.051 -0.044 0.006 #> case5  0.097  0.000  0.001  0.001  0.067  0.028  0.033  0.050 -0.066 0.013 #>          md #> case1 1.911 #> case2 0.444 #> case3 3.787 #> case4 1.065 #> case5 1.980"},{"path":[]},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"generalized-cooks-distance","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Generalized Cook’s Distance","title":"Use Case IDs","text":"","code":"gcd_plot(fit_influence, largest_gcd = 3)"},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"mahalanobis-distance-1","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Mahalanobis Distance","title":"Use Case IDs","text":"","code":"md_plot(fit_influence,         largest_md = 3)"},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"fit-measure-vs--generalized-cooks-distance","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Fit Measure vs. Generalized Cook’s Distance","title":"Use Case IDs","text":"","code":"gcd_gof_plot(fit_influence,              fit_measure = \"rmsea\",              largest_gcd = 3,              largest_fit_measure = 3)"},{"path":"https://sfcheung.github.io/semfindr/articles/user_id.html","id":"bubble-plot","dir":"Articles","previous_headings":"Diagnostic Plots","what":"Bubble Plot","title":"Use Case IDs","text":"","code":"gcd_gof_md_plot(fit_influence,                 fit_measure = \"rmsea\",                 largest_gcd = 3,                 largest_fit_measure = 3,                 largest_md = 3,                 circle_size = 15)"},{"path":"https://sfcheung.github.io/semfindr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Shu Fai Cheung. Author, maintainer. Mark Hok Chio Lai. Author.","code":""},{"path":"https://sfcheung.github.io/semfindr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Cheung S, Lai M (2022). semfindr: Diagnostic Tools Structural Equation Modeling. R package version 0.1.0.9003, https://sfcheung.github.io/semfindr/.","code":"@Manual{,   title = {semfindr: Diagnostic Tools in Structural Equation Modeling},   author = {Shu Fai Cheung and Mark Hok Chio Lai},   year = {2022},   note = {R package version 0.1.0.9003},   url = {https://sfcheung.github.io/semfindr/}, }"},{"path":"https://sfcheung.github.io/semfindr/index.html","id":"semfindr","dir":"","previous_headings":"","what":"Diagnostic Tools in Structural Equation Modeling","title":"Diagnostic Tools in Structural Equation Modeling","text":"find(e)r outliers influential cases structural equation modeling sensitivity analysis presented Jek MacCallum (2011). Unlike similar packages, workflow adopted package separates leave-one-analysis (refitting model one case removed) case influence measures. Users first leave-one-analysis cases, cases selected based criteria (vignette(\"selecting_cases\")), using lavaan_rerun(). Users can compute various case influence measures using output lavaan_rerun(). functions designed flexible users can compute case influence measures standardized parameter estimates generalized Cook’s distance selected parameters; raw standardized estimates; fit measures supported lavaan::fitMeasures(). package also supports various plots visualize case influence, including bubble plot similar car::influencePlot() plots generated ggplot plots can modified users. can found Quick Start (vignette(\"semfindr\")).","code":""},{"path":"https://sfcheung.github.io/semfindr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Diagnostic Tools in Structural Equation Modeling","text":"latest version can installed remotes::install_github: can learn package Github page package Quick Start.","code":"remotes::install_github(\"sfcheung/semfindr\")"},{"path":"https://sfcheung.github.io/semfindr/index.html","id":"reference","dir":"","previous_headings":"","what":"Reference","title":"Diagnostic Tools in Structural Equation Modeling","text":"Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202–228. https://doi.org/10.1080/00273171.2011.561068","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set for a CFA model — cfa_dat","title":"Sample data set for a CFA model — cfa_dat","text":"six-variable dataset 100 cases.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data set for a CFA model — cfa_dat","text":"","code":"cfa_dat"},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data set for a CFA model — cfa_dat","text":"object class data.frame 100 rows 6 columns.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample data set for a CFA model — cfa_dat","text":"Sample Model:","code":"`f1 =~  x1 + x2 + x3` `f2 =~  x4 + x5 + x6` `f1 ~~ f2`"},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat2.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set for a CFA model with an influential case — cfa_dat2","title":"Sample data set for a CFA model with an influential case — cfa_dat2","text":"six-variable dataset 100 cases potential influential cases","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data set for a CFA model with an influential case — cfa_dat2","text":"","code":"cfa_dat2"},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat2.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data set for a CFA model with an influential case — cfa_dat2","text":"object class data.frame 100 rows 7 columns.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample data set for a CFA model with an influential case — cfa_dat2","text":"Sample Model:   one influential case","code":"`f1 =~  x1 + x2 + x3` `f2 =~  x4 + x5 + x6` `f1 ~~ f2`"},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat_heywood.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set for a structural equation model with a negative variance — cfa_dat_heywood","title":"Sample data set for a structural equation model with a negative variance — cfa_dat_heywood","text":"six-variable dataset 60 cases case , removed, result negative variance solution","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat_heywood.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data set for a structural equation model with a negative variance — cfa_dat_heywood","text":"","code":"cfa_dat_heywood"},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat_heywood.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data set for a structural equation model with a negative variance — cfa_dat_heywood","text":"object class data.frame 60 rows 6 columns.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/cfa_dat_heywood.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample data set for a structural equation model with a negative variance — cfa_dat_heywood","text":"Sample Model:","code":"`f1 =~  x1 + x2 + x3` `f2 =~  x4 + x5 + x6` `f1 ~~ f2`"},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardized Case Influence on Parameter Estimates — est_change","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"Gets lavaan_rerun() output computes standardized changes selected parameters case.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"","code":"est_change(rerun_out, parameters = NULL)"},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"rerun_out output lavaan_rerun(). parameters character vector specify selected parameters. parameter named lavaan syntax, e.g., x ~ y x ~~ y, appeared columns lhs, op, rhs output lavaan::parameterEstimates(). Supports specifying operator select parameters operators: ~, ~~, =~, ~1. vector can contain parameter names operators. NULL, default, differences free parameters computed.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"matrix number columns equal number requested parameters, number rows equal number cases. row names case identification values used lavaan_rerun(). elements standardized difference. Please see Pek MacCallum (2011), Equation 7.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"case, est_change() computes differences estimates selected parameters without case: (estimate case) - (estimate without case). differences standardized dividing raw differences standard errors (Pek & MacCallum, 2011). analysis admissible converge case deleted, NAs turned case differences. Unlike est_change_raw(), est_change() support computing standardized changes standardized estimates. Currently supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202–228. doi:10.1080/00273171.2011.561068","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardized Case Influence on Parameter Estimates — est_change","text":"","code":"library(lavaan) #> This is lavaan 0.6-12 #> lavaan is FREE software! Please report any bugs. dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 16.95 second(s). #> Could be faster if ran in parallel. # Compute the changes in chisq if a case is removed out <- est_change(fit_rerun) # Results excluding a case, for the first few cases head(out) #>         m1~iv1        m1~iv2        dv~m1      m1~~m1      dv~~dv        gcd #> 1  0.055155262 -6.413065e-02  0.073609740 -0.04407439  0.06267672 0.01722394 #> 2  0.012022660  3.317249e-03 -0.008275411 -0.09328814 -0.09338458 0.01767099 #> 3  0.001313759  1.480679e-03 -0.023945052 -0.09898698 -0.08413143 0.01745463 #> 4 -0.031965761  3.702747e-03  0.033571795 -0.07952388 -0.07133589 0.01357006 #> 5  0.116999074  2.621956e-02  0.067261907  0.15520013 -0.08842637 0.05271532 #> 6  0.006981059 -9.150724e-06  0.011033699 -0.09666774 -0.06204791 0.01336716 # Note that these are the differences divided by the standard errors # The rightmost column, `gcd`, contains the # generalized Cook's distances (Pek & MacCallum, 2011). head(out[, \"gcd\", drop = FALSE]) #>          gcd #> 1 0.01722394 #> 2 0.01767099 #> 3 0.01745463 #> 4 0.01357006 #> 5 0.05271532 #> 6 0.01336716  # Compute the changes for the paths from iv1 and iv2 to m1 out2 <- est_change(fit_rerun, c(\"m1 ~ iv1\", \"m1 ~ iv2\")) # Results excluding a case, for the first few cases head(out2) #>         m1~iv1        m1~iv2          gcd #> 1  0.055155262 -6.413065e-02 5.934620e-03 #> 2  0.012022660  3.317249e-03 1.791500e-04 #> 3  0.001313759  1.480679e-03 4.744496e-06 #> 4 -0.031965761  3.702747e-03 1.030137e-03 #> 5  0.116999074  2.621956e-02 1.628486e-02 #> 6  0.006981059 -9.150724e-06 5.082288e-05 # Note that only the changes in the selected parameters are included. # The generalized Cook's distance is computed only from the selected # parameter estimates."},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","title":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","text":"Gets lavaan::lavaan() output computes standardized changes selected parameters case.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","text":"","code":"est_change_approx(fit, parameters = NULL, case_id = NULL)"},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","text":"fit output lavaan::lavaan(). parameters character vector specify selected parameters. parameter named lavaan syntax, e.g., x ~ y x ~~ y, appeared columns lhs, op, rhs output lavaan::parameterEstimates(). Supports specifying operator select parameters operators: ~, ~~, =~, ~1. vector can contain parameter names operators. NULL, default, differences free parameters computed. case_id character vector length equals number cases (number rows data fit), vector case identification values. NULL, default, case.idx used lavaan functions used case identification values.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","text":"matrix number columns equal number requested parameters, number rows equal number cases. row names case identification values used lavaan_rerun(). elements standardized difference. Please see Pek MacCallum (2011), Equation 7.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_approx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","text":"case, est_change_approx() computes approximated differences estimates selected parameters without case: (estimate case) - (estimate without case). differences standardized dividing approximated raw differences standard errors. model refitted. Therefore, result approximation est_change(). However, approximation useful identifying potentially influential cases sample size large model takes long time fit. function can used identify potentially influential cases quickly select conduct leave-one-sensitivity analysis using lavaan_rerun() est_change_raw(). function also computes approximated generalized Cook's distance (gCD). avoid confusion, labelled gcd_approx. Currently supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_approx.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","text":"Idea Mark Hok Chio Lai https://orcid.org/0000-0002-9196-7406, Implemented Shu Fai Cheung https://orcid.org/0000-0002-9871-9448.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_approx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardized Case Influence on Parameter Estimates (Approximated) — est_change_approx","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>   # Approximated standardized changes and gcd out_approx <- est_change_approx(fit) head(out_approx) #>         m1~iv1        m1~iv2        dv~m1      m1~~m1      dv~~dv gcd_approx #> 1  0.056082364 -6.527198e-02  0.074516968 -0.04761534  0.05989291 0.01654173 #> 2  0.012362307  3.407010e-03 -0.008519948 -0.09814652 -0.09823621 0.01839580 #> 3  0.001288225  1.456221e-03 -0.024596963 -0.10411540 -0.08859705 0.01816426 #> 4 -0.032796426  3.789218e-03  0.034436823 -0.08383224 -0.07531300 0.01408984 #> 5  0.117125067  2.618124e-02  0.067772679  0.14831586 -0.09350142 0.04863120 #> 6  0.007186025 -9.409624e-06  0.011328267 -0.10168198 -0.06556857 0.01394908  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.4 second(s). #> Could be faster if ran in parallel. # Compute the changes in chisq if a case is removed out <- est_change(fit_rerun) head(out) #>         m1~iv1        m1~iv2        dv~m1      m1~~m1      dv~~dv        gcd #> 1  0.055155262 -6.413065e-02  0.073609740 -0.04407439  0.06267672 0.01722394 #> 2  0.012022660  3.317249e-03 -0.008275411 -0.09328814 -0.09338458 0.01767099 #> 3  0.001313759  1.480679e-03 -0.023945052 -0.09898698 -0.08413143 0.01745463 #> 4 -0.031965761  3.702747e-03  0.033571795 -0.07952388 -0.07133589 0.01357006 #> 5  0.116999074  2.621956e-02  0.067261907  0.15520013 -0.08842637 0.05271532 #> 6  0.006981059 -9.150724e-06  0.011033699 -0.09666774 -0.06204791 0.01336716  # Compare the results plot(out_approx[, 1], out[, 1]); abline(a = 0, b = 1)  plot(out_approx[, 2], out[, 2]); abline(a = 0, b = 1)  plot(out_approx[, 3], out[, 3]); abline(a = 0, b = 1)  plot(out_approx[, \"gcd_approx\"], out[, \"gcd\"]); abline(a = 0, b = 1)"},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Case Influence on Parameter Estimates — est_change_raw","title":"Case Influence on Parameter Estimates — est_change_raw","text":"Gets lavaan_rerun() output computes changes selected parameters case.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Case Influence on Parameter Estimates — est_change_raw","text":"","code":"est_change_raw(rerun_out, parameters = NULL, standardized = FALSE)"},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Case Influence on Parameter Estimates — est_change_raw","text":"rerun_out output lavaan_rerun(). parameters character vector specify selected parameters. parameter named lavaan syntax, e.g., x ~ y x ~~ y, appeared columns lhs, op, rhs output lavaan::parameterEstimates(). Supports specifying operator select parameters operators: ~, ~~, =~, ~1. vector can contain parameter names operators. NULL, default, differences free parameters computed. standardized TRUE, changes full standardized solution returned (type = std.lavaan::standardizedSolution()). Otherwise, changes unstandardized solution returned. Default FALSE.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Case Influence on Parameter Estimates — est_change_raw","text":"matrix number columns equals number requested parameters, number rows equals number cases. row names case identification values used lavaan_rerun(). elements raw differences.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Case Influence on Parameter Estimates — est_change_raw","text":"case, est_change_raw() computes differences estimates selected parameters without case: (estimate case) - (estimate without case). change raw change, either standardized unstandardized solution. change divided standard error. analysis admissible converge case deleted, NAs returned case differences. Currently supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Case Influence on Parameter Estimates — est_change_raw","text":"Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202–228. doi:10.1080/00273171.2011.561068","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Case Influence on Parameter Estimates — est_change_raw","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Case Influence on Parameter Estimates — est_change_raw","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.65 second(s). #> Could be faster if ran in parallel. # Compute the changes in parameter estimates if a case is removed out <- est_change_raw(fit_rerun) # Results excluding a case, for the first few cases head(out) #>          m1~iv1        m1~iv2        dv~m1       m1~~m1      dv~~dv #> 1  0.0092480903 -1.047900e-02  0.011830109 -0.008096158  0.01779958 #> 2  0.0020230483  5.428092e-04 -0.001349747 -0.017310035 -0.02737256 #> 3  0.0002233261  2.457774e-04 -0.003906910 -0.018389060 -0.02461341 #> 4 -0.0053785110  6.049958e-04  0.005471026 -0.014714311 -0.02081522 #> 5  0.0192294969  4.184807e-03  0.011198261  0.027396310 -0.02589279 #> 6  0.0011748533 -1.497733e-06  0.001793063 -0.017949627 -0.01807066 # Note that these are the differences in parameter estimates.  # The parameter estimates from all cases (coef_all <- coef(fit)) #> m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv  #> -0.159  0.525  0.350  0.901  1.423  # The parameter estimates from manually deleting the first case fit_no_1 <- lavaan::sem(mod, dat[-1, ]) (coef_no_1 <- coef(fit_no_1)) #> m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv  #> -0.168  0.536  0.338  0.909  1.406  # The differences coef_all - coef_no_1 #> m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv  #>  0.009 -0.010  0.012 -0.008  0.018  # The first row of `est_change_raw(fit_rerun)` round(out[1, ], 3) #> m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv  #>  0.009 -0.010  0.012 -0.008  0.018   # Compute only the changes of the paths from iv1 and iv2 to m1 out2 <- est_change_raw(fit_rerun, c(\"m1 ~ iv1\", \"m1 ~ iv2\")) # Results excluding a case, for the first few cases head(out2) #>          m1~iv1        m1~iv2 #> 1  0.0092480903 -1.047900e-02 #> 2  0.0020230483  5.428092e-04 #> 3  0.0002233261  2.457774e-04 #> 4 -0.0053785110  6.049958e-04 #> 5  0.0192294969  4.184807e-03 #> 6  0.0011748533 -1.497733e-06 # Note that only the changes in the selected paths are included.  # Use standardized = TRUE to compare the differences in standardized solution out2_std <- est_change_raw(fit_rerun,                            c(\"m1 ~ iv1\", \"m1 ~ iv2\"),                           standardized = TRUE) head(out2_std) #>          m1~iv1        m1~iv2 #> 1  0.0072910092 -8.065905e-03 #> 2  0.0014862613  3.105220e-04 #> 3 -0.0016488362  7.628936e-03 #> 4 -0.0043088514 -3.605488e-04 #> 5  0.0177947350 -5.627279e-03 #> 6  0.0008102828 -5.167092e-05 (est_std_all <- parameterEstimates(fit,                  standardized = TRUE)[1:2, c(\"lhs\", \"op\", \"rhs\", \"std.all\")]) #>   lhs op rhs std.all #> 1  m1  ~ iv1  -0.125 #> 2  m1  ~ iv2   0.425 (est_std_no_1 <- parameterEstimates(fit_no_1,                  standardized = TRUE)[1:2, c(\"lhs\", \"op\", \"rhs\", \"std.all\")]) #>   lhs op rhs std.all #> 1  m1  ~ iv1  -0.133 #> 2  m1  ~ iv2   0.433 # The differences est_std_all$std.all - est_std_no_1$std.all #> [1]  0.007291009 -0.008065905 # The first row of `out2_std` out2_std[1, ] #>       m1~iv1       m1~iv2  #>  0.007291009 -0.008065905"},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw_approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","title":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","text":"Gets lavaan::lavaan() output estimates changes selected parameters case.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw_approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","text":"","code":"est_change_raw_approx(fit, parameters = NULL, case_id = NULL)"},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw_approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","text":"fit output lavaan::lavaan(). parameters character vector specify selected parameters. parameter named lavaan syntax, e.g., x ~ y x ~~ y, appeared columns lhs, op, rhs output lavaan::parameterEstimates(). Supports specifying operator select parameters operators: ~, ~~, =~, ~1. vector can contain parameter names operators. NULL, default, differences free parameters computed. case_id character vector length equals number cases (number rows data fit), vector case identification values. NULL, default, case.idx used lavaan functions used case identification values.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw_approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","text":"matrix number columns equals number requested parameters, number rows equals number cases. row names case identification values. elements raw differences.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw_approx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","text":"case, est_change_raw_approx() computes approximated differences estimates selected parameters without case: (estimate case) - (estimate without case). change raw change, either standardized unstandardized solution. change divided standard error. model refitted. Therefore, result approximation est_change_raw(). However, approximation useful identifying potentially influential cases sample size large model takes long time fit. function can used identify potentially influential cases quickly select conduct leave-one-sensitivity analysis using lavaan_rerun() est_change_raw(). Currently supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw_approx.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","text":"Idea Mark Hok Chio Lai https://orcid.org/0000-0002-9196-7406, Implemented Shu Fai Cheung https://orcid.org/0000-0002-9871-9448.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/est_change_raw_approx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Case Influence on Parameter Estimates (Approximated) — est_change_raw_approx","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Compute the approximated changes in parameter estimates if a case is removed out_approx <- est_change_raw_approx(fit) head(out_approx) #>          m1~iv1        m1~iv2        dv~m1       m1~~m1      dv~~dv #> 1  0.0091491614 -1.036690e-02  0.011790859 -0.008409966  0.01671024 #> 2  0.0020167613  5.411223e-04 -0.001348116 -0.017334936 -0.02740810 #> 3  0.0002101584  2.312860e-04 -0.003891990 -0.018389178 -0.02471876 #> 4 -0.0053503415  6.018271e-04  0.005448957 -0.014806705 -0.02101248 #> 5  0.0191075424  4.158266e-03  0.010723707  0.026195997 -0.02608709 #> 6  0.0011723133 -1.494495e-06  0.001792478 -0.017959380 -0.01829377 # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.6 second(s). #> Could be faster if ran in parallel. # Compute the changes in parameter estimates if a case is removed out <- est_change_raw(fit_rerun) # Results excluding a case, for the first few cases head(out) #>          m1~iv1        m1~iv2        dv~m1       m1~~m1      dv~~dv #> 1  0.0092480903 -1.047900e-02  0.011830109 -0.008096158  0.01779958 #> 2  0.0020230483  5.428092e-04 -0.001349747 -0.017310035 -0.02737256 #> 3  0.0002233261  2.457774e-04 -0.003906910 -0.018389060 -0.02461341 #> 4 -0.0053785110  6.049958e-04  0.005471026 -0.014714311 -0.02081522 #> 5  0.0192294969  4.184807e-03  0.011198261  0.027396310 -0.02589279 #> 6  0.0011748533 -1.497733e-06  0.001793063 -0.017949627 -0.01807066 # Compare the results plot(out_approx[, 1], out[, 1]); abline(a = 0, b = 1)  plot(out_approx[, 5], out[, 5]); abline(a = 0, b = 1)"},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":null,"dir":"Reference","previous_headings":"","what":"Case Influence on Fit Measures — fit_measures_change","title":"Case Influence on Fit Measures — fit_measures_change","text":"Gets lavaan_rerun() output computes change selected fit measures case deleted","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Case Influence on Fit Measures — fit_measures_change","text":"","code":"fit_measures_change(   rerun_out,   fit_measures = c(\"chisq\", \"cfi\", \"rmsea\", \"tli\"),   baseline_model = NULL )"},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Case Influence on Fit Measures — fit_measures_change","text":"rerun_out output lavaan_rerun(). fit_measures argument fit.measures used lavaan::fitMeasures. Default c(\"chisq\", \"cfi\", \"rmsea\", \"tli\"). baseline_model argument baseline.model used lavaan::fitMeasures. Default NULL.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Case Influence on Fit Measures — fit_measures_change","text":"matrix number columns equals number requested fit measures, number rows equals number cases. row names case identification values used lavaan_rerun().","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Case Influence on Fit Measures — fit_measures_change","text":"case, fit_measures_change() computes differences selected fit measures without case. analysis admissible converge case deleted, NAs turned differences case. Currently supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Case Influence on Fit Measures — fit_measures_change","text":"Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202–228. doi:10.1080/00273171.2011.561068","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Case Influence on Fit Measures — fit_measures_change","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Case Influence on Fit Measures — fit_measures_change","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.45 second(s). #> Could be faster if ran in parallel. # Compute the changes in chisq if a case is removed out <- fit_measures_change(fit_rerun, fit_measures = \"chisq\") # Results excluding a case, for the first few cases head(out) #>          chisq #> 1  0.364966775 #> 2  0.002466591 #> 3 -0.025206945 #> 4 -0.035970625 #> 5  0.110992116 #> 6  0.086695524 # Chi-square will all cases (chisq_all <- fitMeasures(fit, c(\"chisq\"))) #> chisq  #> 1.768  # Chi-square with the first case removed fit_01 <- lavaan::sem(mod, dat[-1, ]) (chisq_no_1 <- fitMeasures(fit_01, c(\"chisq\"))) #> chisq  #> 1.403  # Difference chisq_all - chisq_no_1 #> chisq  #> 0.365  # Compare to the result from the fit_measures_change out[1, ] #> [1] 0.3649668"},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change_approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","title":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","text":"Gets lavaan::lavaan() output computes approximated change selected fit measures case deleted","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change_approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","text":"","code":"fit_measures_change_approx(   fit,   fit_measures = c(\"chisq\", \"cfi\", \"rmsea\", \"tli\"),   baseline_model = NULL,   case_id = NULL )"},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change_approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","text":"fit output lavaan::lavaan(). fit_measures argument fit.measures used lavaan::fitMeasures. Default c(\"chisq\", \"cfi\", \"rmsea\", \"tli\"). baseline_model argument baseline.model used lavaan::fitMeasures. Default NULL. case_id character vector length equals number cases (number rows data fit), vector case identification values. NULL, default, case.idx used lavaan functions used case identification values.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change_approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","text":"matrix number columns equals number requested fit measures, number rows equals number cases. row names case identification values.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change_approx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","text":"case, fit_measures_change_approx() computes approximated differences selected fit measures without case. model refitted. Therefore, result approximation fit_measures_change(). However, approximation useful identifying potentially influential cases sample size large model takes long time fit. function can used identify potentially influential cases quickly select conduct leave-one-sensitivity analysis using lavaan_rerun() fit_measures_change(). Currently supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change_approx.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","text":"Idea Mark Hok Chio Lai https://orcid.org/0000-0002-9196-7406, Implemented Shu Fai Cheung https://orcid.org/0000-0002-9871-9448.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/fit_measures_change_approx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Case Influence on Fit Measures (Approximated) — fit_measures_change_approx","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 1 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                           100 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 6.711 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.035 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1               0.215    0.106    2.036    0.042 #>     iv2               0.522    0.099    5.253    0.000 #>   dv ~                                                 #>     m1                0.517    0.106    4.895    0.000 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.903    0.128    7.071    0.000 #>    .dv                1.321    0.187    7.071    0.000 #>   # Approximated changes out_approx <- fit_measures_change_approx(fit, fit_measures = \"chisq\") head(out_approx) #>         chisq #> 1  0.15956516 #> 2 -0.01892880 #> 3 -0.38907022 #> 4 -0.15078126 #> 5  0.09685352 #> 6  0.11602751 # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 4.8 second(s). #> Could be faster if ran in parallel. # Compute the changes in chisq if a case is removed out <- fit_measures_change(fit_rerun, fit_measures = \"chisq\") # Results excluding a case, for the first few cases head(out) #>         chisq #> 1  0.15407944 #> 2 -0.01944571 #> 3 -0.41673808 #> 4 -0.15430823 #> 5  0.09730667 #> 6  0.11601736 # Compare the results plot(out_approx[, \"chisq\"], out)"},{"path":"https://sfcheung.github.io/semfindr/reference/implied_scores.html","id":null,"dir":"Reference","previous_headings":"","what":"Implied Scores of Observed Outcome Variable — implied_scores","title":"Implied Scores of Observed Outcome Variable — implied_scores","text":"Gets lavaan::lavaan() output computes implied scores.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/implied_scores.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Implied Scores of Observed Outcome Variable — implied_scores","text":"","code":"implied_scores(fit)"},{"path":"https://sfcheung.github.io/semfindr/reference/implied_scores.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Implied Scores of Observed Outcome Variable — implied_scores","text":"fit output lavaan::lavaan(), lavaan::cfa() lavaan::sem().","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/implied_scores.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Implied Scores of Observed Outcome Variable — implied_scores","text":"matrix implied scores.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/implied_scores.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Implied Scores of Observed Outcome Variable — implied_scores","text":"implied scores observed outcome variable simply computed way predicted scores linear regression model computed. Currently supports single-group path analysis models observed variables.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/implied_scores.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Implied Scores of Observed Outcome Variable — implied_scores","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/implied_scores.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Implied Scores of Observed Outcome Variable — implied_scores","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>   # Compute the implied scores for `m1` and `dv` fit_implied_scores <- implied_scores(fit) head(fit_implied_scores) #>               m1          dv #> [1,] -0.27796469  0.11231710 #> [2,]  0.02685371  0.05380020 #> [3,]  0.44378891  0.12306764 #> [4,] -0.04555044 -0.19799762 #> [5,] -0.02779787 -0.56271155 #> [6,] -0.01323771  0.01100961"},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Various Plots of Influence Measures — influence_plot","title":"Various Plots of Influence Measures — influence_plot","text":"Gets influence_stat() output plots selected statistics.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Various Plots of Influence Measures — influence_plot","text":"","code":"gcd_plot(influence_out, cutoff_gcd = NULL, largest_gcd = 1)  md_plot(   influence_out,   cutoff_md = FALSE,   cutoff_md_qchisq = 0.975,   largest_md = 1 )  gcd_gof_plot(   influence_out,   fit_measure,   cutoff_gcd = NULL,   cutoff_fit_measure = NULL,   largest_gcd = 1,   largest_fit_measure = 1 )  gcd_gof_md_plot(   influence_out,   fit_measure,   cutoff_md = FALSE,   cutoff_fit_measure = NULL,   circle_size = 2,   cutoff_md_qchisq = 0.975,   cutoff_gcd = NULL,   largest_gcd = 1,   largest_md = 1,   largest_fit_measure = 1 )"},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Various Plots of Influence Measures — influence_plot","text":"influence_out output influence_stat(). cutoff_gcd Cases generalized Cook's distance larger value labeled. Default NULL. NULL, cutoff line drawn. largest_gcd number cases largest generalized Cook's distance labelled. Default 1. integer, rounded nearest integer. cutoff_md Cases Mahalanobis distance larger value labeled. TRUE, (cutoff_md_qchisq x 100)th percentile chi-square distribution degrees freedom equal number variables used.  Default FALSE, cutoff value. cutoff_md_qchisq value multiplied 100 percentile used labeling case based Mahalanobis distance. Default .975. largest_md number cases largest Mahalanobis distance labelled. Default 1. integer, rounded nearest integer. fit_measure fit measure used plot. Use name lavaan::fitMeasures() function. default value. cutoff_fit_measure Cases fit_measure larger cutoff magnitude labeled. default value must specified. largest_fit_measure number cases largest selected fit measure change magnitude labelled. Default integer, rounded nearest integer. circle_size size largest circle size circle controlled statistic.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Various Plots of Influence Measures — influence_plot","text":"ggplot2 plot. Plotted default. assigned variable called inside function, plotted. Use plot() plot .","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Various Plots of Influence Measures — influence_plot","text":"output influence_stat() simply matrix. Therefore, function work matrix provided. Row number used x-axis applicable. However, case identification values output influence_stat() used labeling individual cases.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Various Plots of Influence Measures — influence_plot","text":"Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202-228. doi:10.1080/00273171.2011.561068","code":""},{"path":[]},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Various Plots of Influence Measures — influence_plot","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Various Plots of Influence Measures — influence_plot","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.4 second(s). #> Could be faster if ran in parallel. # Get all default influence stats out <- influence_stat(fit_rerun) head(out) #>          chisq cfi rmsea          tli       m1~iv1        m1~iv2        dv~m1 #> 1  0.364966775   0     0 -0.089423524  0.055155262 -6.413065e-02  0.073609740 #> 2  0.002466591   0     0 -0.001853612  0.012022660  3.317249e-03 -0.008275411 #> 3 -0.025206945   0     0  0.004202146  0.001313759  1.480679e-03 -0.023945052 #> 4 -0.035970625   0     0  0.006676175 -0.031965761  3.702747e-03  0.033571795 #> 5  0.110992116   0     0 -0.028824532  0.116999074  2.621956e-02  0.067261907 #> 6  0.086695524   0     0 -0.022536563  0.006981059 -9.150724e-06  0.011033699 #>        m1~~m1      dv~~dv        gcd        md #> 1 -0.04407439  0.06267672 0.01722394 2.2538385 #> 2 -0.09328814 -0.09338458 0.01767099 0.2927790 #> 3 -0.09898698 -0.08413143 0.01745463 3.0251076 #> 4 -0.07952388 -0.07133589 0.01357006 0.7810530 #> 5  0.15520013 -0.08842637 0.05271532 2.7091742 #> 6 -0.09666774 -0.06204791 0.01336716 0.4390106  # Plot generalized Cook's distance. Label the 3 cases with largest distances. gcd_plot(out, largest_gcd = 3)   # Plot Mahalanobis distance. Label the 3 cases with largest distances. md_plot(out, largest_md = 3)   # Plot changes in model chi-square against generalized Cook's distance. # Label the 3 cases largest changes in magnitude. # Label the 3 cases with largest generalized Cook's distance. gcd_gof_plot(out, fit_measure = \"chisq\", largest_gcd = 3,              largest_fit_measure = 3)   # Plot changes in model chi-square against Mahalanobis distance. # Size of bubble determined by generalized Cook's distance. # Label the 3 cases largest changes in magnitude. # Label the 3 cases with largest Mahalanobis distance. # Label the 3 cases with largest generalized Cook's distance. # gcd_gof_md_plot(out, fit_measure = \"chisq\",                      largest_gcd = 3,                      largest_fit_measure = 3,                      largest_md = 3,                      circle_size = 10)"},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":null,"dir":"Reference","previous_headings":"","what":"Case Influence Measures — influence_stat","title":"Case Influence Measures — influence_stat","text":"Gets lavaan_rerun() output computes changes selected parameters fit measures case.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Case Influence Measures — influence_stat","text":"","code":"influence_stat(   rerun_out,   fit_measures = c(\"chisq\", \"cfi\", \"rmsea\", \"tli\"),   baseline_model = NULL,   parameters = NULL,   mahalanobis = TRUE,   keep_fit = TRUE )"},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Case Influence Measures — influence_stat","text":"rerun_out output lavaan_rerun(). fit_measures argument fit.measures used lavaan::fitMeasures. Default c(\"chisq\", \"cfi\", \"rmsea\", \"tli\"). baseline_model argument baseline.model used lavaan::fitMeasures. Default NULL. parameters character vector specify selected parameters. parameter named lavaan syntax, e.g., x ~ y x ~~ y, appeared columns lhs, op, rhs output lavaan::parameterEstimates(). NULL, default, differences free parameters computed. mahalanobis TRUE, call mahalanobis_rerun() compute Mahalanobis distance. Default TRUE. keep_fit TRUE, keep original lavaan output using full sample attribute output. can used functions extract necessary information. Default TRUE.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Case Influence Measures — influence_stat","text":"matrix number columns equals number requested statistics, number rows equals number cases. row names case identification values used lavaan_rerun(). Please refer help pages est_change() fit_measures_change() details.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Case Influence Measures — influence_stat","text":"case, influence_stat() computes differences estimates selected parameters fit measures without case. Users can request measures extremeness (Mahalanobis distance available now). Measures computed est_change() fit_measures_change(). Currently works single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Case Influence Measures — influence_stat","text":"Pek, J., & MacCallum, R. (2011). Sensitivity analysis structural equation models: Cases influence. Multivariate Behavioral Research, 46(2), 202–228. doi:10.1080/00273171.2011.561068","code":""},{"path":[]},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Case Influence Measures — influence_stat","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/influence_stat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Case Influence Measures — influence_stat","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 3.3 second(s). #> Could be faster if ran in parallel. # Get all default influence stats out <- influence_stat(fit_rerun) head(out) #>          chisq cfi rmsea          tli       m1~iv1        m1~iv2        dv~m1 #> 1  0.364966775   0     0 -0.089423524  0.055155262 -6.413065e-02  0.073609740 #> 2  0.002466591   0     0 -0.001853612  0.012022660  3.317249e-03 -0.008275411 #> 3 -0.025206945   0     0  0.004202146  0.001313759  1.480679e-03 -0.023945052 #> 4 -0.035970625   0     0  0.006676175 -0.031965761  3.702747e-03  0.033571795 #> 5  0.110992116   0     0 -0.028824532  0.116999074  2.621956e-02  0.067261907 #> 6  0.086695524   0     0 -0.022536563  0.006981059 -9.150724e-06  0.011033699 #>        m1~~m1      dv~~dv        gcd        md #> 1 -0.04407439  0.06267672 0.01722394 2.2538385 #> 2 -0.09328814 -0.09338458 0.01767099 0.2927790 #> 3 -0.09898698 -0.08413143 0.01745463 3.0251076 #> 4 -0.07952388 -0.07133589 0.01357006 0.7810530 #> 5  0.15520013 -0.08842637 0.05271532 2.7091742 #> 6 -0.09666774 -0.06204791 0.01336716 0.4390106"},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun.html","id":null,"dir":"Reference","previous_headings":"","what":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","title":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","text":"lavaan_rerun() reruns lavaan analysis several times, time one case removed.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","text":"","code":"lavaan_rerun(   fit,   case_id = NULL,   to_rerun,   md_top,   resid_md_top,   allow_inadmissible = FALSE,   skip_all_checks = FALSE,   parallel = FALSE,   makeCluster_args = list(spec = getOption(\"cl.cores\", 2)) )"},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","text":"fit output lavaan::lavaan(), lavaan::cfa() lavaan::sem(). case_id character vector length equals number cases (number rows data fit), vector case identification values. NULL, default, case.idx used lavaan functions used case identification values. case identification values used name list n output. to_rerun cases processed. case_id specified, subset case_id. case_id specified, vector integers indicating rows te processed, appeared data fit. to_rerun used together md_top resid_md_top. md_top number cases processed based Mahalanobis distance computed observed variables used model. cases ranked largest smallest distance, top md_top case(s) processed. md_top used together to_rerun resid_md_top. resid_md_top number cases processed based Mahalanobis distance computed residuals outcome variables. cases ranked largest smallest distance, top resid_md_top case(s) processed. resid_md_top used together to_rerun md_top. allow_inadmissible TRUE, accepts fit object inadmissible results (.e., post.check lavaan::lavInspect() FALSE). Default FALSE. skip_all_checks TRUE, skips checks allow users run function object lavaan class. users experiment functions models officially supported. Default FALSE. parallel Whether parallel used. TRUE, use functions parallel package rerun analysis. Currently, support \"snow\" type clusters using local CPU cores. Default FALSE. makeCluster_args named list arguments passed parallel::makeCluster(). Default list(spec = getOption(\"cl.cores\", 2))). number cores need specified, use list(spec = x), x number cores use.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","text":"list following elements: rerun: n lavaan output objects. fit: original output lavaan. post_check: list length equals n. analysis checked lavaan::lavTech(x, \"post.check\"), x lavaan results. results test stored list. value TRUE, estimation converged solution admissible. TRUE, warning message issued lavaan::lavTech(). converged: vector length equals n. analysis checked lavaan::lavTech(x, \"converged\"), x lavaan results. results test stored vector. value TRUE, estimation converged. TRUE, estimation failed converge corresponding case excluded. call: call lavaan_rerun(). selected: numeric vector row numbers cases selected analysis. length equal length rerun.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","text":"lavaan_rerun() gets lavaan::lavaan() output reruns analysis n times, using arguments options output, n equals number cases. run, one case removed. Optionally, users can rerun analysis selected cases removed. cases can specified case IDs, Mahalanobis distance computed variables used model, Mahalanobis distance computed residuals (observed score - implied scores) observed outcome variables. See help arguments to_rerun, md_top, resid_md_top. recommended use Mahalanobis distance computed variables, especially models observed variables predictors (Pek & MacCallum, 2011). Cases extreme predictors may influential results. Nevertheless, distance reported SEM programs option provided. Mahalanobis distance based residuals supported models latent factors. implied scores computed implied_scores(). sample size large, recommended use parallel processing. However, due nature update() method lavaan::lavaan object, possible parallel processing fail. case, try use serial processing, simply remove argument parallel set FALSE. Many functions semfindr use output lavaan_rerun(). Instead running n analyses every time, step users can compute whatever influence statistics want quickly. analysis took minutes run due large number cases long processing time fitting model, recommended save output external file (e.g., base::saveRDS()). Currently lavaan_rerun() supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rerun a lavaan Analysis (Leaving-One-Out-Each-Time) — lavaan_rerun","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.45 second(s). #> Could be faster if ran in parallel. # Results excluding the first case fitMeasures(fit_rerun$rerun[[1]], c(\"chisq\", \"cfi\", \"tli\", \"rmsea\")) #> chisq   cfi   tli rmsea  #> 1.403 1.000 1.143 0.000  # Results by manually excluding the first case fit_01 <- lavaan::sem(mod, dat[-1, ]) fitMeasures(fit_01, c(\"chisq\", \"cfi\", \"tli\", \"rmsea\")) #> chisq   cfi   tli rmsea  #> 1.403 1.000 1.143 0.000"},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun_check.html","id":null,"dir":"Reference","previous_headings":"","what":"Compatibility Check — lavaan_rerun_check","title":"Compatibility Check — lavaan_rerun_check","text":"Gets lavaan_rerun() output checks whether supported.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun_check.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compatibility Check — lavaan_rerun_check","text":"","code":"lavaan_rerun_check(fit, print_messages = TRUE)"},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun_check.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compatibility Check — lavaan_rerun_check","text":"fit output lavaan, lavaan::cfa() lavaan::sem(). print_messages Logical. TRUE, print messages check. FALSE, messages attached return value attribute. Default TRUE.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun_check.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compatibility Check — lavaan_rerun_check","text":"single-element vector. confirmed supported, return 0. confirmed support may still work, return 1. confirmed yet supported, return negative number, value number without negative sign number tests failed.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun_check.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compatibility Check — lavaan_rerun_check","text":"function supposed used users. called lavaan_rerun() see analysis passed supported. , messages printed indicate .","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun_check.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Compatibility Check — lavaan_rerun_check","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/lavaan_rerun_check.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compatibility Check — lavaan_rerun_check","text":"","code":"dat <- cfa_dat  mod <- \" f1 =~ x4 + x5 + x6 \" dat_gp <- dat dat$gp <- rep(c(\"gp1\", \"gp2\"), length.out = nrow(dat_gp))  fit01 <- lavaan::sem(mod, dat) # If supported, returns a zero lavaan_rerun_check(fit01) #> [1] 0  fit05 <- lavaan::cfa(mod, dat, group = \"gp\") # If not supported, returns a negative number lavaan_rerun_check(fit05) #> [1] -1 #> attr(,\"info\") #> [1] \"Multigroup models are not yet supported.\""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":null,"dir":"Reference","previous_headings":"","what":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"Gets lavaan_rerun() lavaan::lavaan() output computes Mahalanobis distance case using observed predictors.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"","code":"mahalanobis_predictors(   fit,   emNorm_arg = list(estimate.worst = FALSE, criterion = 1e-06) )"},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"fit can output lavaan, lavaan::cfa() lavaan::sem(), output lavaan_rerun(). emNorm_arg list argument norm2::emNorm(). Default list(estimate.worst = FALSE, criterion = 1e-6). Ignored missing data observed predictors.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"one-column matrix (column vector) Mahalanobis distance case. number rows equals number cases data stored fit object.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"case, mahalanobis_predictors() computes Mahalanobis distance case observed predictors. missing values, stats::mahalanobis() used compute Mahalanobis distance. missing values observed predictors, means variance-covariance matrices estimated maximum likelihood using norm2::emNorm(). estimates passed modi::MDmiss() compute Mahalanobis distance. Currently function supports single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"Béguin, C., & Hulliger, B. (2004). Multivariate outlier detection incomplete survey data: epidemic algorithm transformed rank correlations. Journal Royal Statistical Society: Series (Statistics Society), 167(2), 275–294. Mahalanobis, P. C. (1936). generalized distance statistics. Proceedings National Institute Science India, 2, 49–55. Schafer, J.L. (1997) Analysis incomplete multivariate data. Chapman & Hall/CRC Press.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_predictors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mahalanobis Distance (Observed Predictors) — mahalanobis_predictors","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>   md_predictors <- mahalanobis_predictors(fit) md_predictors #>            md #> 1  0.51368056 #> 2  0.14923074 #> 3  2.83133321 #> 4  0.25150133 #> 5  0.30454534 #> 6  0.10381491 #> 7  3.08755116 #> 8  2.72181993 #> 9  0.54153019 #> 10 3.14819584 #> 11 1.94474349 #> 12 0.22873982 #> 13 7.17867021 #> 14 0.60357386 #> 15 0.21400365 #> 16 0.70387430 #> 17 1.46418930 #> 18 2.13977511 #> 19 1.17546928 #> 20 4.37779812 #> 21 2.29802338 #> 22 0.22913500 #> 23 0.65135163 #> 24 1.60222431 #> 25 4.90917278 #> 26 2.11488292 #> 27 4.68505480 #> 28 3.10388592 #> 29 0.08442462 #> 30 0.15400825 #> 31 0.07132173 #> 32 4.15651117 #> 33 5.47904841 #> 34 3.43189596 #> 35 1.76891424 #> 36 0.27906678 #> 37 1.25323201 #> 38 0.60312948 #> 39 0.64736786 #> 40 0.42504779 #> 41 0.49463694 #> 42 1.52287738 #> 43 5.11518904 #> 44 1.65448191 #> 45 6.70651179 #> 46 1.17975143 #> 47 2.89669475 #> 48 0.07678826 #> 49 0.42383439 #> 50 6.29749467"},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":null,"dir":"Reference","previous_headings":"","what":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"Computes Mahalanobis distance case observed variables model.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"","code":"mahalanobis_rerun(   fit,   emNorm_arg = list(estimate.worst = FALSE, criterion = 1e-06) )"},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"fit can output lavaan, lavaan::cfa() lavaan::sem(), output lavaan_rerun(). emNorm_arg list argument norm2::emNorm(). Default list(estimate.worst = FALSE, criterion = 1e-6). Ignored missing data exogenous observed variables.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"one-column matrix (column vector) Mahalanobis distance case. row names case identification values used lavaan_rerun().","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"mahalanobis_rerun() gets lavaan_rerun() lavaan::lavaan() output computes Mahalanobis distance case observed variables. missing values, stats::mahalanobis() used compute Mahalanobis distance. missing values observed predictors, means variance-covariance matrices estimated maximum likelihood using norm2::emNorm(). estimates passed modi::MDmiss() compute Mahalanobis distance. Currently support single-group models.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"Mahalanobis, P. C. (1936). generalized distance statistics. Proceedings National Institute Science India, 2, 49–55.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/mahalanobis_rerun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mahalanobis Distance (All Observed Variables) — mahalanobis_rerun","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.4 second(s). #> Could be faster if ran in parallel. # Compute the Mahalanobis distance for each case out <- mahalanobis_rerun(fit_rerun) # Results excluding a case, for the first few cases head(out) #>          md #> 1 2.2538385 #> 2 0.2927790 #> 3 3.0251076 #> 4 0.7810530 #> 5 2.7091742 #> 6 0.4390106 # Compute the Mahalanobis distance using stats::mahalanobis md1 <- stats::mahalanobis(dat, colMeans(dat), stats::cov(dat)) # Compare the results head(md1) #>         1         2         3         4         5         6  #> 2.2538385 0.2927790 3.0251076 0.7810530 2.7091742 0.4390106"},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set for a path model — pa_dat","title":"Sample data set for a path model — pa_dat","text":"four-variable dataset 100 cases","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data set for a path model — pa_dat","text":"","code":"pa_dat"},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data set for a path model — pa_dat","text":"object class data.frame 100 rows 4 columns.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample data set for a path model — pa_dat","text":"Sample Model:","code":"`m1 ~  iv1 + iv2` `dv ~  m1`"},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat2.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set for a path model with an influential case — pa_dat2","title":"Sample data set for a path model with an influential case — pa_dat2","text":"four-variable dataset 100 cases potential influential cases","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data set for a path model with an influential case — pa_dat2","text":"","code":"pa_dat2"},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat2.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data set for a path model with an influential case — pa_dat2","text":"object class data.frame 100 rows 5 columns.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/pa_dat2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample data set for a path model with an influential case — pa_dat2","text":"Sample Model:   one influential case","code":"`m1 ~  iv1 + iv2` `dv ~  m1`"},{"path":"https://sfcheung.github.io/semfindr/reference/print.lavaan_rerun.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for lavaan_rerun — print.lavaan_rerun","title":"Print Method for lavaan_rerun — print.lavaan_rerun","text":"Prints results lavaan_rerun","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/print.lavaan_rerun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for lavaan_rerun — print.lavaan_rerun","text":"","code":"# S3 method for lavaan_rerun print(x, ...)"},{"path":"https://sfcheung.github.io/semfindr/reference/print.lavaan_rerun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for lavaan_rerun — print.lavaan_rerun","text":"x output lavaan_rerun(). ... arguments. ignored.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/print.lavaan_rerun.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Print Method for lavaan_rerun — print.lavaan_rerun","text":"Shu Fai Cheung (shufai.cheung@gmail.com)","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/print.lavaan_rerun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print Method for lavaan_rerun — print.lavaan_rerun","text":"","code":"library(lavaan) dat <- pa_dat # For illustration only, select only the first 50 cases dat <- dat[1:50, ] # The model mod <- \" m1 ~ iv1 + iv2 dv ~ m1 \" # Fit the model fit <- lavaan::sem(mod, dat) summary(fit) #> lavaan 0.6-12 ended normally after 2 iterations #>  #>   Estimator                                         ML #>   Optimization method                           NLMINB #>   Number of model parameters                         5 #>  #>   Number of observations                            50 #>  #> Model Test User Model: #>                                                        #>   Test statistic                                 1.768 #>   Degrees of freedom                                 2 #>   P-value (Chi-square)                           0.413 #>  #> Parameter Estimates: #>  #>   Standard errors                             Standard #>   Information                                 Expected #>   Information saturated (h1) model          Structured #>  #> Regressions: #>                    Estimate  Std.Err  z-value  P(>|z|) #>   m1 ~                                                 #>     iv1              -0.159    0.166   -0.954    0.340 #>     iv2               0.525    0.162    3.241    0.001 #>   dv ~                                                 #>     m1                0.350    0.161    2.169    0.030 #>  #> Variances: #>                    Estimate  Std.Err  z-value  P(>|z|) #>    .m1                0.901    0.180    5.000    0.000 #>    .dv                1.423    0.285    5.000    0.000 #>  # Fit the model n times. Each time with one case removed. fit_rerun <- lavaan_rerun(fit, parallel = FALSE) #> The expected CPU time is 2.45 second(s). #> Could be faster if ran in parallel. fit_rerun #> === lavaan_rerun Output === #> Call: #> lavaan_rerun(fit = fit, parallel = FALSE) #> Number of reruns: 50 #> Number of reruns that converged (solution found): 50 #> Number of reruns that failed to converge (solution not found): 0 #> Number of reruns that passed post.check of lavaan: 50 #> Number of reruns that failed post.check of lavaan: 0 #> Number of reruns that both converged and passed post.check: 50 #> Number of reruns that either did not converge or failed post.check: 0"},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set for a structural equation model — sem_dat","title":"Sample data set for a structural equation model — sem_dat","text":"nine-variable dataset 100 cases.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data set for a structural equation model — sem_dat","text":"","code":"sem_dat"},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data set for a structural equation model — sem_dat","text":"object class data.frame 200 rows 9 columns.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample data set for a structural equation model — sem_dat","text":"Sample Model:","code":"`f1 =~  x1 + x2 + x3` `f2 =~  x4 + x5 + x6` `f3 =~  x7 + x8 + x9` `f2 ~   f1` `f3 ~   f2`"},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat2.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set for a structural equation model with an influential case — sem_dat2","title":"Sample data set for a structural equation model with an influential case — sem_dat2","text":"nine-variable dataset 100 cases potential influential cases","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data set for a structural equation model with an influential case — sem_dat2","text":"","code":"sem_dat2"},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat2.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data set for a structural equation model with an influential case — sem_dat2","text":"object class data.frame 100 rows 10 columns.","code":""},{"path":"https://sfcheung.github.io/semfindr/reference/sem_dat2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample data set for a structural equation model with an influential case — sem_dat2","text":"Sample Model:   one influential case","code":"`f1 =~  x1 + x2 + x3` `f2 =~  x4 + x5 + x6` `f3 =~  x7 + x8 + x9` `f2 ~   f1` `f3 ~   f2`"},{"path":"https://sfcheung.github.io/semfindr/reference/semfindr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"semfindr: Diagnostic Tools in Structural Equation Modeling — semfindr-package","title":"semfindr: Diagnostic Tools in Structural Equation Modeling — semfindr-package","text":"Sensitivity analysis structural equation modeling using change statistics diagnostic plots.","code":""},{"path":[]},{"path":"https://sfcheung.github.io/semfindr/reference/semfindr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"semfindr: Diagnostic Tools in Structural Equation Modeling — semfindr-package","text":"Maintainer: Shu Fai Cheung shufai.cheung@gmail.com (ORCID) Authors: Mark Hok Chio Lai marklhc@gmail.com  (ORCID)","code":""},{"path":"https://sfcheung.github.io/semfindr/news/index.html","id":"semfindr-0109003","dir":"Changelog","previous_headings":"","what":"semfindr 0.1.0.9003","title":"semfindr 0.1.0.9003","text":"(Work--Progress. Cumulated updates included 0.1.1) Added skip_all_checks lavaan_rerun(), allowing users experiment lavaan_rerun() functions models officially supported. Revised est_change() est_change_raw() support use operators (e.g., ~, =~) select parameters. Added badges R CMD Check Action. Added package used vignette Suggests.","code":""},{"path":"https://sfcheung.github.io/semfindr/news/index.html","id":"semfindr-010","dir":"Changelog","previous_headings":"","what":"semfindr 0.1.0","title":"semfindr 0.1.0","text":"Added vignettes. lavaan_rerun() can accept output inadmissible estimates. Disabled default. Can enabled setting allow_inadmissible TRUE.","code":""},{"path":"https://sfcheung.github.io/semfindr/news/index.html","id":"semfindr-004","dir":"Changelog","previous_headings":"","what":"semfindr 0.0.4","title":"semfindr 0.0.4","text":"Added print method lavaan_rerun() class. Added mahalanobis_predictors() compute Mahalanobis distance using observed predictors. mahalanobis_predictors() mahalanobis_rerun() support datasets missing data. lavaan_rerun() can specify cases exclude rerun specifying case IDs selecting cases based Mahalanobis distance observed variables residuals observed variables path model.","code":""},{"path":"https://sfcheung.github.io/semfindr/news/index.html","id":"semfindr-003","dir":"Changelog","previous_headings":"","what":"semfindr 0.0.3","title":"semfindr 0.0.3","text":"Use lavaan::update() lavaan_rerun. reliable recreating call. Add implied_scores(). supports single-group path analysis models now.","code":""},{"path":"https://sfcheung.github.io/semfindr/news/index.html","id":"semfindr-002","dir":"Changelog","previous_headings":"","what":"semfindr 0.0.2","title":"semfindr 0.0.2","text":"First internal testing release.","code":""}]
