<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Gets a lavaan_rerun() output and computes the
standardized changes in selected parameters for each case."><title>Standardized Case Influence on Parameter Estimates — est_change • semfindr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Standardized Case Influence on Parameter Estimates — est_change"><meta property="og:description" content="Gets a lavaan_rerun() output and computes the
standardized changes in selected parameters for each case."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">semfindr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/semfindr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/casewise_scores.html">Approximate Case Influence Using Scores and Casewise Likelihood</a>
    <a class="dropdown-item" href="../articles/selecting_cases.html">Selecting Cases In Rerun</a>
    <a class="dropdown-item" href="../articles/user_id.html">Use Case IDs</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/semfindr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Standardized Case Influence on Parameter Estimates</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/semfindr/blob/HEAD/R/est_change.R" class="external-link"><code>R/est_change.R</code></a></small>
      <div class="d-none name"><code>est_change.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Gets a <code><a href="lavaan_rerun.html">lavaan_rerun()</a></code> output and computes the
standardized changes in selected parameters for each case.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">est_change</span><span class="op">(</span><span class="va">rerun_out</span>, parameters <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>rerun_out</dt>
<dd><p>The output from <code><a href="lavaan_rerun.html">lavaan_rerun()</a></code>.</p></dd>


<dt>parameters</dt>
<dd><p>A character vector to specify the selected
parameters. Each parameter is named as in <code>lavaan</code> syntax, e.g.,
<code>x ~ y</code> or <code>x ~~ y</code>, as appeared in the columns <code>lhs</code>, <code>op</code>, and <code>rhs</code>
in the output of <code><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">lavaan::parameterEstimates()</a></code>.
Supports specifying an operator to select all parameters with this
operators: <code>~</code>, <code>~~</code>, <code>=~</code>, and <code>~1</code>. This vector can contain
both parameter names and operators.
If <code>NULL</code>, the
default, differences on all free parameters will be computed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A matrix with the number of columns equal to the number of
requested parameters, and the number of rows equal to the number
of cases. The row names are the case identification values used in
<code><a href="lavaan_rerun.html">lavaan_rerun()</a></code>. The elements are the standardized difference.
Please see Pek and MacCallum (2011), Equation 7.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For each case, <code>est_change()</code> computes the differences in
the estimates of selected parameters with and without this case:
(estimate with all case) - (estimate without this case). The
differences are standardized by dividing the raw differences by
their standard errors (Pek &amp; MacCallum, 2011).</p>
<p>If the analysis is not admissible or does not converge when a case
is deleted, <code>NA</code>s will be turned for this case on the differences.</p>
<p>Unlike <code><a href="est_change_raw.html">est_change_raw()</a></code>, <code>est_change()</code> does not support
computing the standardized changes of standardized estimates.</p>
<p>Currently it only supports single-group models.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Pek, J., &amp; MacCallum, R. (2011). Sensitivity analysis
in structural equation models: Cases and their influence.
<em>Multivariate Behavioral Research, 46</em>(2), 202–228.
doi:10.1080/00273171.2011.561068</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Shu Fai Cheung (shufai.cheung@gmail.com)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This is lavaan 0.6-12</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> lavaan is FREE software! Please report any bugs.</span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">pa_dat</span></span></span>
<span class="r-in"><span><span class="co"># For illustration only, select only the first 50 cases</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># The model</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m1 ~ iv1 + iv2</span></span></span>
<span class="r-in"><span><span class="st">dv ~ m1</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="co"># Fit the model</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lavaan 0.6-12 ended normally after 2 iterations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Estimator                                         ML</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Optimization method                           NLMINB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of model parameters                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of observations                            50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Test User Model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Test statistic                                 1.768</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Degrees of freedom                                 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   P-value (Chi-square)                           0.413</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Parameter Estimates:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Standard errors                             Standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information                                 Expected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information saturated (h1) model          Structured</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Regressions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m1 ~                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     iv1              -0.159    0.166   -0.954    0.340</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     iv2               0.525    0.162    3.241    0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dv ~                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     m1                0.350    0.161    2.169    0.030</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variances:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .m1                0.901    0.180    5.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .dv                1.423    0.285    5.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># Fit the model n times. Each time with one case removed.</span></span></span>
<span class="r-in"><span><span class="va">fit_rerun</span> <span class="op">&lt;-</span> <span class="fu"><a href="lavaan_rerun.html">lavaan_rerun</a></span><span class="op">(</span><span class="va">fit</span>, parallel <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The expected CPU time is 11.85 second(s).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could be faster if ran in parallel.</span>
<span class="r-in"><span><span class="co"># Compute the changes in chisq if a case is removed</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">est_change</span><span class="op">(</span><span class="va">fit_rerun</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Results excluding a case, for the first few cases</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         m1~iv1        m1~iv2        dv~m1      m1~~m1      dv~~dv        gcd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0.055155262 -6.413065e-02  0.073609740 -0.04407439  0.06267672 0.01722394</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  0.012022660  3.317249e-03 -0.008275411 -0.09328814 -0.09338458 0.01767099</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  0.001313759  1.480679e-03 -0.023945052 -0.09898698 -0.08413143 0.01745463</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 -0.031965761  3.702747e-03  0.033571795 -0.07952388 -0.07133589 0.01357006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  0.116999074  2.621956e-02  0.067261907  0.15520013 -0.08842637 0.05271532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  0.006981059 -9.150724e-06  0.011033699 -0.09666774 -0.06204791 0.01336716</span>
<span class="r-in"><span><span class="co"># Note that these are the differences divided by the standard errors</span></span></span>
<span class="r-in"><span><span class="co"># The rightmost column, `gcd`, contains the</span></span></span>
<span class="r-in"><span><span class="co"># generalized Cook's distances (Pek &amp; MacCallum, 2011).</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">out</span><span class="op">[</span>, <span class="st">"gcd"</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          gcd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.01722394</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.01767099</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.01745463</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.01357006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.05271532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 0.01336716</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute the changes for the paths from iv1 and iv2 to m1</span></span></span>
<span class="r-in"><span><span class="va">out2</span> <span class="op">&lt;-</span> <span class="fu">est_change</span><span class="op">(</span><span class="va">fit_rerun</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1 ~ iv1"</span>, <span class="st">"m1 ~ iv2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Results excluding a case, for the first few cases</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">out2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         m1~iv1        m1~iv2          gcd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0.055155262 -6.413065e-02 5.934620e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  0.012022660  3.317249e-03 1.791500e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  0.001313759  1.480679e-03 4.744496e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 -0.031965761  3.702747e-03 1.030137e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  0.116999074  2.621956e-02 1.628486e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  0.006981059 -9.150724e-06 5.082288e-05</span>
<span class="r-in"><span><span class="co"># Note that only the changes in the selected parameters are included.</span></span></span>
<span class="r-in"><span><span class="co"># The generalized Cook's distance is computed only from the selected</span></span></span>
<span class="r-in"><span><span class="co"># parameter estimates.</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Shu Fai Cheung, Mark Hok Chio Lai.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

