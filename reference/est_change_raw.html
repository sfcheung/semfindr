<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Gets a lavaan_rerun() output and computes the
changes in selected parameters for each case if included."><title>Case Influence on Parameter Estimates — est_change_raw • semfindr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Sans-0.4.7/font.css" rel="stylesheet"><link href="../deps/Chivo_Mono-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Case Influence on Parameter Estimates — est_change_raw"><meta property="og:description" content="Gets a lavaan_rerun() output and computes the
changes in selected parameters for each case if included."><meta property="og:image" content="https://sfcheung.github.io/semfindr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">semfindr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/semfindr.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>&lt;General&gt;</h6>
    <a class="dropdown-item" href="../articles/casewise_scores.html">Approximate Case Influence Using Scores and Casewise Likelihood</a>
    <a class="dropdown-item" href="../articles/selecting_cases.html">Selecting Cases In lavaan_rerun</a>
    <a class="dropdown-item" href="../articles/user_id.html">Using Case IDs</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>&lt;Multiple-Group Models&gt;</h6>
    <a class="dropdown-item" href="../articles/multiple_group.html">Illustration</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/semfindr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Case Influence on Parameter Estimates</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/semfindr/blob/HEAD/R/est_change_raw.R" class="external-link"><code>R/est_change_raw.R</code></a></small>
      <div class="d-none name"><code>est_change_raw.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Gets a <code><a href="lavaan_rerun.html">lavaan_rerun()</a></code> output and computes the
changes in selected parameters for each case if included.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">est_change_raw</span><span class="op">(</span></span>
<span>  <span class="va">rerun_out</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  standardized <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  user_defined_label_full <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>rerun_out</dt>
<dd><p>The output from <code><a href="lavaan_rerun.html">lavaan_rerun()</a></code>.</p></dd>


<dt>parameters</dt>
<dd><p>A character vector to specify the selected
parameters. Each parameter is named as in <code>lavaan</code> syntax, e.g.,
<code>x ~ y</code> or <code>x ~~ y</code>, as appeared in the columns <code>lhs</code>, <code>op</code>, and <code>rhs</code>
in the output of <code><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">lavaan::parameterEstimates()</a></code>.
Supports specifying an operator to select all parameters with these
operators: <code>~</code>, <code>~~</code>, <code>=~</code>, and <code>~1</code>. This vector can contain
both parameter names and operators. More details can be found
in the help of <code><a href="pars_id.html">pars_id()</a></code>.
If omitted or <code>NULL</code>, the
default, changes on all free parameters will be computed.</p></dd>


<dt>standardized</dt>
<dd><p>If <code>TRUE</code>, the changes in the full standardized
solution is returned (<code>type</code> = <code>std.all</code> in
<code><a href="https://rdrr.io/pkg/lavaan/man/standardizedSolution.html" class="external-link">lavaan::standardizedSolution()</a></code>). Otherwise, the changes in the
unstandardized solution are returned. Default is <code>FALSE</code>.</p></dd>


<dt>user_defined_label_full</dt>
<dd><p>Logical. If <code>TRUE</code>, use the full
labels for user-defined parameters (parameters created by
<code>:=</code>), which include the definition. If <code>FALSE</code>, then only
the label on the right-hand side of <code>:=</code> will be used.
Default is <code>FALSE</code>. In previous version, the full labels
were used. Set to <code>TRUE</code> if backward compatibility
is needed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>est_change</code>-class object, which is
matrix with the number of columns equals to the number of
requested parameters, and the number of rows equals to the number
of cases. The row names are the case identification values used in
<code><a href="lavaan_rerun.html">lavaan_rerun()</a></code>. The elements are the raw differences.
A print method is available for user-friendly output.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For each case, <code>est_change_raw()</code> computes the differences
in the estimates of selected parameters with and without this
case:</p>
<p>(Estimate with all case) - (Estimate without this case).</p>
<p>The
change is the raw change, either for the standardized or
unstandardized solution. The change is <em>not</em> divided by standard
error.
This is a measure of the influence of a case on the parameter
estimates if it is included.</p>
<p>If the value of a case is positive, including the case increases an estimate.</p>
<p>If the value of a case is negative, including the case decreases an estimate.</p>
<p>If the analysis is not admissible or did not converge when a case
is deleted, <code>NA</code>s will be returned for this case on the
differences.</p>
<p>Supports both single-group and multiple-group models.
(Support for multiple-group models available in 0.1.4.8 and later version).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Pek, J., &amp; MacCallum, R. (2011). Sensitivity analysis
in structural equation models: Cases and their influence.
<em>Multivariate Behavioral Research, 46</em>(2), 202-228.
doi:10.1080/00273171.2011.561068</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448" class="external-link">https://orcid.org/0000-0002-9871-9448</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A path model</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">pa_dat</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m1 ~ a1 * iv1 + a2 * iv2</span></span></span>
<span class="r-in"><span><span class="st">dv ~ b * m1</span></span></span>
<span class="r-in"><span><span class="st">a1b := a1 * b</span></span></span>
<span class="r-in"><span><span class="st">a2b := a2 * b</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="co"># Fit the model</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit the model n times. Each time with one case is removed.</span></span></span>
<span class="r-in"><span><span class="co"># For illustration, do this only for four selected cases</span></span></span>
<span class="r-in"><span><span class="va">fit_rerun</span> <span class="op">&lt;-</span> <span class="fu"><a href="lavaan_rerun.html">lavaan_rerun</a></span><span class="op">(</span><span class="va">fit</span>, parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                          to_rerun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The expected CPU time is 0.22 second(s).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could be faster if run in parallel.</span>
<span class="r-in"><span><span class="co"># Compute the changes in parameter estimates if a case is included</span></span></span>
<span class="r-in"><span><span class="co"># vs. if this case is excluded.</span></span></span>
<span class="r-in"><span><span class="co"># That is, case influence on parameter estimates.</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">est_change_raw</span><span class="op">(</span><span class="va">fit_rerun</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Results excluding a case</span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Case Influence on Parameter Estimates --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id m1~iv1 id m1~iv2 id  dv~m1 id m1~~m1 id dv~~dv id    a1b id    a2b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  7 -0.013  7  0.007  7  0.007  3 -0.008  8 -0.013  7 -0.005  7  0.007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  5  0.007  8  0.007  5  0.004  8 -0.007  5 -0.013  5  0.004  8  0.005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  8  0.006  3 -0.004  3 -0.003  5  0.006  3 -0.008  8  0.004  3 -0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  3 -0.004  5  0.003  8  0.003  7  0.000  7 -0.008  3 -0.003  5  0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Changes are raw changes if a case is included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - All stored cases are displayed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cases sorted by the absolute changes for each variable.</span>
<span class="r-in"><span><span class="co"># Note that these are the differences in parameter estimates.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The parameter estimates from all cases</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">coef_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     a1     a2      b m1~~m1 dv~~dv </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.215  0.522  0.517  0.903  1.321 </span>
<span class="r-in"><span><span class="co"># The parameter estimates from manually deleting the third case</span></span></span>
<span class="r-in"><span><span class="va">fit_no_3</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span><span class="op">[</span><span class="op">-</span><span class="fl">3</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">coef_no_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">fit_no_3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     a1     a2      b m1~~m1 dv~~dv </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.219  0.526  0.520  0.911  1.330 </span>
<span class="r-in"><span><span class="co"># The differences</span></span></span>
<span class="r-in"><span><span class="va">coef_all</span> <span class="op">-</span> <span class="va">coef_no_3</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     a1     a2      b m1~~m1 dv~~dv </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -0.004 -0.004 -0.003 -0.008 -0.008 </span>
<span class="r-in"><span><span class="co"># The first row of `est_change_raw(fit_rerun)`</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">out</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m1~iv1 m1~iv2  dv~m1 m1~~m1 dv~~dv    a1b    a2b </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -0.004 -0.004 -0.003 -0.008 -0.008 -0.003 -0.004 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute only the changes of the paths from iv1 and iv2 to m1</span></span></span>
<span class="r-in"><span><span class="va">out2</span> <span class="op">&lt;-</span> <span class="fu">est_change_raw</span><span class="op">(</span><span class="va">fit_rerun</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1 ~ iv1"</span>, <span class="st">"m1 ~ iv2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Results excluding a case</span></span></span>
<span class="r-in"><span><span class="va">out2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Case Influence on Parameter Estimates --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id m1~iv1 id m1~iv2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  7 -0.013  7  0.007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  5  0.007  8  0.007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  8  0.006  3 -0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  3 -0.004  5  0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Changes are raw changes if a case is included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - All stored cases are displayed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cases sorted by the absolute changes for each variable.</span>
<span class="r-in"><span><span class="co"># Note that only the changes in the selected paths are included.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use standardized = TRUE to compare the differences in standardized solution</span></span></span>
<span class="r-in"><span><span class="va">out2_std</span> <span class="op">&lt;-</span> <span class="fu">est_change_raw</span><span class="op">(</span><span class="va">fit_rerun</span>,</span></span>
<span class="r-in"><span>                           <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1 ~ iv1"</span>, <span class="st">"m1 ~ iv2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           standardized <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out2_std</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Case Influence on Standardized Parameter Estimates --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id m1~iv1 id m1~iv2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  7 -0.010  8  0.006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  8  0.005  7  0.006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  5  0.005  5 -0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  3 -0.002  3 -0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Changes are raw changes if a case is included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - All stored cases are displayed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cases sorted by the absolute changes for each variable.</span>
<span class="r-in"><span><span class="op">(</span><span class="va">est_std_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit</span>,</span></span>
<span class="r-in"><span>                 standardized <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lhs"</span>, <span class="st">"op"</span>, <span class="st">"rhs"</span>, <span class="st">"std.all"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lhs op rhs std.all</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  m1  ~ iv1   0.178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  m1  ~ iv2   0.459</span>
<span class="r-in"><span><span class="op">(</span><span class="va">est_std_no_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit_no_3</span>,</span></span>
<span class="r-in"><span>                 standardized <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lhs"</span>, <span class="st">"op"</span>, <span class="st">"rhs"</span>, <span class="st">"std.all"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lhs op rhs std.all</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  m1  ~ iv1    0.18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  m1  ~ iv2    0.46</span>
<span class="r-in"><span><span class="co"># The differences</span></span></span>
<span class="r-in"><span><span class="va">est_std_all</span><span class="op">$</span><span class="va">std.all</span> <span class="op">-</span> <span class="va">est_std_no_1</span><span class="op">$</span><span class="va">std.all</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.0023823159 -0.0006520026</span>
<span class="r-in"><span><span class="co"># The first row of `out2_std`</span></span></span>
<span class="r-in"><span><span class="va">out2_std</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        m1~iv1        m1~iv2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -0.0023823159 -0.0006520026 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A CFA model</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">cfa_dat</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">f1 =~  x1 + x2 + x3</span></span></span>
<span class="r-in"><span><span class="st">f2 =~  x4 + x5 + x6</span></span></span>
<span class="r-in"><span><span class="st">f1 ~~ f2</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="co"># Fit the model</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Examine four selected cases</span></span></span>
<span class="r-in"><span><span class="va">fit_rerun</span> <span class="op">&lt;-</span> <span class="fu"><a href="lavaan_rerun.html">lavaan_rerun</a></span><span class="op">(</span><span class="va">fit</span>, parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                          to_rerun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The expected CPU time is 0.28 second(s).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could be faster if run in parallel.</span>
<span class="r-in"><span><span class="co"># Compute the changes in parameter estimates if a case is included</span></span></span>
<span class="r-in"><span><span class="co"># vs. if this case is excluded.</span></span></span>
<span class="r-in"><span><span class="co"># That is, case influence on parameter estimates.</span></span></span>
<span class="r-in"><span><span class="co"># For free loadings only</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">est_change_raw</span><span class="op">(</span><span class="va">fit_rerun</span>, parameters <span class="op">=</span> <span class="st">"=~"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Case Influence on Parameter Estimates --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id f1=~x2 id f1=~x3 id f2=~x5 id f2=~x6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  3 -0.307  3 -0.172  3 -1.016  2 -0.033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2  0.097  2  0.121  2  0.121  3 -0.020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  7 -0.005  5 -0.032  7 -0.025  5 -0.010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  5 -0.004  7 -0.003  5  0.005  7 -0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Changes are raw changes if a case is included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - All stored cases are displayed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cases sorted by the absolute changes for each variable.</span>
<span class="r-in"><span><span class="co"># For standardized loadings only</span></span></span>
<span class="r-in"><span><span class="va">out_std</span> <span class="op">&lt;-</span> <span class="fu">est_change_raw</span><span class="op">(</span><span class="va">fit_rerun</span>, parameters <span class="op">=</span> <span class="st">"=~"</span>,</span></span>
<span class="r-in"><span>                          standardized <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_std</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Case Influence on Standardized Parameter Estimates --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id f1=~x1 id f1=~x2 id f1=~x3 id f2=~x4 id f2=~x5 id f2=~x6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  3  0.104  3 -0.059  2  0.029  3  0.095  3 -0.104  3  0.096</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2 -0.038  2  0.032  3  0.014  2 -0.011  2  0.023  2 -0.032</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  5  0.010  7 -0.005  5 -0.009  7  0.004  5  0.002  5 -0.005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  7  0.000  5 -0.001  7 -0.001  5 -0.003  7 -0.001  7  0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Changes are raw changes if a case is included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - All stored cases are displayed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cases sorted by the absolute changes for each variable.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A latent variable model</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">sem_dat</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">f1 =~  x1 + x2 + x3</span></span></span>
<span class="r-in"><span><span class="st">f2 =~  x4 + x5 + x6</span></span></span>
<span class="r-in"><span><span class="st">f3 =~  x7 + x8 + x9</span></span></span>
<span class="r-in"><span><span class="st">f2 ~   a * f1</span></span></span>
<span class="r-in"><span><span class="st">f3 ~   b * f2</span></span></span>
<span class="r-in"><span><span class="st">ab := a * b</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="co"># Fit the model</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Examine four selected cases</span></span></span>
<span class="r-in"><span><span class="va">fit_rerun</span> <span class="op">&lt;-</span> <span class="fu"><a href="lavaan_rerun.html">lavaan_rerun</a></span><span class="op">(</span><span class="va">fit</span>, parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                          to_rerun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The expected CPU time is 0.28 second(s).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could be faster if run in parallel.</span>
<span class="r-in"><span><span class="co"># Compute the changes in parameter estimates if a case is included</span></span></span>
<span class="r-in"><span><span class="co"># vs. if this case is excluded.</span></span></span>
<span class="r-in"><span><span class="co"># That is, case influence on parameter estimates.</span></span></span>
<span class="r-in"><span><span class="co"># For structural paths only</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">est_change_raw</span><span class="op">(</span><span class="va">fit_rerun</span>, parameters <span class="op">=</span> <span class="st">"~"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Case Influence on Parameter Estimates --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id  f2~f1 id  f3~f2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  3 -0.030  7  0.007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  5 -0.016  3 -0.006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  7 -0.011  2 -0.006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2  0.010  5 -0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Changes are raw changes if a case is included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - All stored cases are displayed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cases sorted by the absolute changes for each variable.</span>
<span class="r-in"><span><span class="co"># For standardized paths only</span></span></span>
<span class="r-in"><span><span class="va">out_std</span> <span class="op">&lt;-</span> <span class="fu">est_change_raw</span><span class="op">(</span><span class="va">fit_rerun</span>, parameters <span class="op">=</span> <span class="st">"~"</span>,</span></span>
<span class="r-in"><span>                          standardized <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_std</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Case Influence on Standardized Parameter Estimates --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id  f2~f1 id  f3~f2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  3 -0.013  7  0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  7  0.012  3  0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  2  0.003  5 -0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  5  0.000  2 -0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Changes are raw changes if a case is included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - All stored cases are displayed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cases sorted by the absolute changes for each variable.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Shu Fai Cheung, Mark Hok Chio Lai.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

